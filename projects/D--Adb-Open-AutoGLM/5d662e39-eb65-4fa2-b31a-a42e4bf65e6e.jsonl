{"type":"file-history-snapshot","messageId":"4f468579-f368-4a02-971d-923927ad7fd5","snapshot":{"messageId":"4f468579-f368-4a02-971d-923927ad7fd5","trackedFileBackups":{},"timestamp":"2025-12-16T06:07:08.471Z"},"isSnapshotUpdate":false}
{"parentUuid":null,"isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","type":"user","message":{"role":"user","content":"<command-message>init is analyzing your codebaseâ€¦</command-message>\n<command-name>/init</command-name>"},"uuid":"4f468579-f368-4a02-971d-923927ad7fd5","timestamp":"2025-12-16T06:07:08.468Z"}
{"parentUuid":"4f468579-f368-4a02-971d-923927ad7fd5","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","type":"user","message":{"role":"user","content":[{"type":"text","text":"Please analyze this codebase and create a CLAUDE.md file, which will be given to future instances of Claude Code to operate in this repository.\n\nWhat to add:\n1. Commands that will be commonly used, such as how to build, lint, and run tests. Include the necessary commands to develop in this codebase, such as how to run a single test.\n2. High-level code architecture and structure so that future instances can be productive more quickly. Focus on the \"big picture\" architecture that requires reading multiple files to understand.\n\nUsage notes:\n- If there's already a CLAUDE.md, suggest improvements to it.\n- When you make the initial CLAUDE.md, do not repeat yourself and do not include obvious instructions like \"Provide helpful error messages to users\", \"Write unit tests for all new utilities\", \"Never include sensitive information (API keys, tokens) in code or commits\".\n- Avoid listing every component or file structure that can be easily discovered.\n- Don't include generic development practices.\n- If there are Cursor rules (in .cursor/rules/ or .cursorrules) or Copilot rules (in .github/copilot-instructions.md), make sure to include the important parts.\n- If there is a README.md, make sure to include the important parts.\n- Do not make up information such as \"Common Development Tasks\", \"Tips for Development\", \"Support and Documentation\" unless this is expressly included in other files that you read.\n- Be sure to prefix the file with the following text:\n\n```\n# CLAUDE.md\n\nThis file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.\n```"}]},"isMeta":true,"uuid":"1513cc3a-6b01-43be-913b-b49e731c9483","timestamp":"2025-12-16T06:07:08.468Z"}
{"parentUuid":"1513cc3a-6b01-43be-913b-b49e731c9483","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01A681dpw2poYDK59iTJnBFK","type":"message","role":"assistant","content":[{"type":"text","text":"I'll analyze the codebase to understand its architecture and create a comprehensive CLAUDE.md file."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":30087,"cache_read_input_tokens":12861,"cache_creation":{"ephemeral_5m_input_tokens":30087,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"type":"assistant","uuid":"f66541c4-321d-4430-b91b-d282448e2c20","timestamp":"2025-12-16T06:07:13.507Z"}
{"parentUuid":"f66541c4-321d-4430-b91b-d282448e2c20","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01A681dpw2poYDK59iTJnBFK","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01PiJt2PZgM8e7zJbuA7bLYC","name":"Task","input":{"subagent_type":"Explore","description":"Analyze codebase architecture","prompt":"Analyze this codebase to understand:\n1. The overall project purpose and architecture\n2. Key directories and their roles\n3. Main entry points and execution flow\n4. Configuration files and their purpose\n5. Testing setup\n6. Build/run commands from package.json or other config files\n7. Any existing documentation (README, docs, etc.)\n\nFocus on understanding the big picture architecture that requires reading multiple files to understand."}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":30087,"cache_read_input_tokens":12861,"cache_creation":{"ephemeral_5m_input_tokens":30087,"ephemeral_1h_input_tokens":0},"output_tokens":207,"service_tier":"standard"}},"type":"assistant","uuid":"14039759-9aec-408e-9b35-586c0fec0b9e","timestamp":"2025-12-16T06:07:16.325Z"}
{"parentUuid":"14039759-9aec-408e-9b35-586c0fec0b9e","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"[Request interrupted by user for tool use]","is_error":true,"tool_use_id":"toolu_01PiJt2PZgM8e7zJbuA7bLYC"}]},"uuid":"8db4edbf-2a83-45dc-8929-885b6ddc0a76","timestamp":"2025-12-16T06:09:39.565Z","toolUseResult":"Error: [Request interrupted by user for tool use]"}
{"parentUuid":"8db4edbf-2a83-45dc-8929-885b6ddc0a76","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","type":"user","message":{"role":"user","content":[{"type":"text","text":"[Request interrupted by user for tool use]"}]},"uuid":"9d06a270-10db-4903-aef8-a6962e8f4eb3","timestamp":"2025-12-16T06:09:39.565Z"}
{"type":"file-history-snapshot","messageId":"d34a05d0-996b-42ee-957b-6354a3e2364c","snapshot":{"messageId":"d34a05d0-996b-42ee-957b-6354a3e2364c","trackedFileBackups":{},"timestamp":"2025-12-16T06:10:12.162Z"},"isSnapshotUpdate":false}
{"parentUuid":"9d06a270-10db-4903-aef8-a6962e8f4eb3","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","type":"user","message":{"role":"user","content":"åˆ›å»ºä¸€ä¸ªè¿è¡Œè„šæœ¬ å˜é‡ä½¿ç”¨.env é‡Œé¢çš„æ•°æ® è¦æ±‚åŒå‡»å¯ä»¥è¿è¡Œ."},"uuid":"d34a05d0-996b-42ee-957b-6354a3e2364c","timestamp":"2025-12-16T06:10:12.159Z","thinkingMetadata":{"level":"high","disabled":false,"triggers":[]},"todos":[]}
{"parentUuid":"d34a05d0-996b-42ee-957b-6354a3e2364c","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_011pc6wrt7QhW2CDwc7SA4pX","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"ç”¨æˆ·è¦æ±‚åˆ›å»ºä¸€ä¸ªè¿è¡Œè„šæœ¬ï¼Œä½¿ç”¨.envæ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œè¦æ±‚åŒå‡»å¯ä»¥è¿è¡Œã€‚\n\næˆ‘éœ€è¦å…ˆè¯»å–.envæ–‡ä»¶æ¥äº†è§£éœ€è¦è®¾ç½®å“ªäº›ç¯å¢ƒå˜é‡ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªå¯ä»¥åŒå‡»è¿è¡Œçš„è„šæœ¬ã€‚\n\næ ¹æ®ç¯å¢ƒä¿¡æ¯ï¼Œè¿™æ˜¯Windowså¹³å°ï¼ˆplatform: win32ï¼‰ï¼Œæ‰€ä»¥æˆ‘éœ€è¦åˆ›å»ºä¸€ä¸ª.batæ‰¹å¤„ç†æ–‡ä»¶ã€‚\n\nè®©æˆ‘å…ˆè¯»å–.envæ–‡ä»¶å’Œmain.pyæ¥ç†è§£éœ€è¦ä»€ä¹ˆã€‚","signature":"EqwECkYIChgCKkDMOEsno+79g2zpmYeTZH8DT6ryZib8JYn0wk3idPeiiVEaXtsF4DCD/F6iPX/gMXXCY2YcwTVWSXotZYnWceyHEgyOJxDfGwmbsDsw76UaDKkCmc9W0F9uERvr8iIwkOofLOk9TgGvaB4+JXNp6Lv+P8Ccp0GpGfuhc5tdt3UnF0Vgqmhspa0b9Uerh971KpMDGOouer7vbx16B8o7Ok5PbQ42Uc8EoYVf6SdAz+OUlseF5K+EWUle423sv3kp5gCFWpDRgMafDkB9gJ8G/yhyWIUqStp/ie2SgJKw8NS5LEsMEx4UeeTlm+xIwk8zTIREJmtdq0j3ZUSu9Ehq/HY3W4mArFhv12natXdkWMNPqu8bkPg1NIYtcMPFy7g3Wsyakdt5tCkdbADI9hpX4poTdxz4bMh22LZyB14zQpXa3AJTG8ARiIny1QSaAd7s8em+sS0VjpcQBKMR5apvO8NAuGsmRgvIUThSjzlkxKd5UcKK2g9K4XukHbQpNEuASjYq+H7/JH16UK17JaT37K88WWxGhKn0fRYLuERJrrwNOYeFjlBzGxSlzFAced8jga0ITDrBP8qz189vshYOqDtEKvEes84PAkrJuliaIoACDuuGg13RJLOfj+ThkAqaMey3by3N+ZZynp7RxF5y8QD8HCLBPvvM3kZaJ8CkMw/XzGCySxU7puZ/pUvNJvmN8XxtSl7KlUOPstQqBJAe5zwif54dFhgB"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":1248,"cache_read_input_tokens":42152,"cache_creation":{"ephemeral_5m_input_tokens":1248,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"type":"assistant","uuid":"bd6ac7ee-a00a-49b9-ab74-d28fcb050fc4","timestamp":"2025-12-16T06:10:22.458Z"}
{"parentUuid":"bd6ac7ee-a00a-49b9-ab74-d28fcb050fc4","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_011pc6wrt7QhW2CDwc7SA4pX","type":"message","role":"assistant","content":[{"type":"text","text":"æˆ‘æ¥å¸®ä½ åˆ›å»ºä¸€ä¸ªå¯ä»¥åŒå‡»è¿è¡Œçš„è„šæœ¬ï¼Œä½¿ç”¨.envæ–‡ä»¶ä¸­çš„å˜é‡ã€‚"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":1248,"cache_read_input_tokens":42152,"cache_creation":{"ephemeral_5m_input_tokens":1248,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"type":"assistant","uuid":"4b37e893-719c-414d-8e44-f6215a805d21","timestamp":"2025-12-16T06:10:22.458Z"}
{"parentUuid":"4b37e893-719c-414d-8e44-f6215a805d21","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_011pc6wrt7QhW2CDwc7SA4pX","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01PQdJ9tvMXeprMLf8E7tgVs","name":"Read","input":{"file_path":"D:\\Adb\\Open-AutoGLM\\.env"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":1248,"cache_read_input_tokens":42152,"cache_creation":{"ephemeral_5m_input_tokens":1248,"ephemeral_1h_input_tokens":0},"output_tokens":343,"service_tier":"standard"}},"type":"assistant","uuid":"11fe887f-6c99-49bd-9777-6ddb32bac913","timestamp":"2025-12-16T06:10:22.632Z"}
{"parentUuid":"11fe887f-6c99-49bd-9777-6ddb32bac913","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_011pc6wrt7QhW2CDwc7SA4pX","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01HmXc2cet9X49YnVD1zFkvJ","name":"Read","input":{"file_path":"D:\\Adb\\Open-AutoGLM\\main.py"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":1248,"cache_read_input_tokens":42152,"cache_creation":{"ephemeral_5m_input_tokens":1248,"ephemeral_1h_input_tokens":0},"output_tokens":343,"service_tier":"standard"}},"type":"assistant","uuid":"eb977c73-920a-42d4-8dc5-f3a6abd9d272","timestamp":"2025-12-16T06:10:22.632Z"}
{"parentUuid":"eb977c73-920a-42d4-8dc5-f3a6abd9d272","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_011pc6wrt7QhW2CDwc7SA4pX","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01LhLK87Vwt4LxuivUKRnvfs","name":"Read","input":{"file_path":"D:\\Adb\\Open-AutoGLM\\README.md"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":1248,"cache_read_input_tokens":42152,"cache_creation":{"ephemeral_5m_input_tokens":1248,"ephemeral_1h_input_tokens":0},"output_tokens":343,"service_tier":"standard"}},"type":"assistant","uuid":"d6129de2-1173-4c8a-8280-6c6ae531fec8","timestamp":"2025-12-16T06:10:22.632Z"}
{"parentUuid":"d6129de2-1173-4c8a-8280-6c6ae531fec8","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01PQdJ9tvMXeprMLf8E7tgVs","type":"tool_result","content":"     1â†’# AutoGLM é…ç½®æ–‡ä»¶\n     2â†’# è¯·å¡«å†™ä½ çš„APIé…ç½®ä¿¡æ¯\n     3â†’\n     4â†’# é€‰æ‹©ä¸€ä¸ªæ¨¡å‹æœåŠ¡å•†ï¼ˆæ™ºè°± BigModel æˆ– ModelScopeï¼‰\n     5â†’\n     6â†’# ========== æ™ºè°± BigModel é…ç½® ==========\n     7â†’PHONE_AGENT_BASE_URL=https://open.bigmodel.cn/api/paas/v4\n     8â†’PHONE_AGENT_MODEL=autoglm-phone\n     9â†’PHONE_AGENT_API_KEY=14e4c8ed9dde4caaa294adb1061ec57d.d7DALlu0DejBGguL\n    10â†’\n    11â†’# ========== ModelScope é…ç½® ==========\n    12â†’# PHONE_AGENT_BASE_URL=https://api-inference.modelscope.cn/v1\n    13â†’# PHONE_AGENT_MODEL=ZhipuAI/AutoGLM-Phone-9B\n    14â†’# PHONE_AGENT_API_KEY=your-api-key-here\n    15â†’\n    16â†’# ========== å…¶ä»–é…ç½® ==========\n    17â†’# æœ€å¤§æ‰§è¡Œæ­¥éª¤æ•°ï¼ˆé»˜è®¤100ï¼‰\n    18â†’PHONE_AGENT_MAX_STEPS=100\n    19â†’\n    20â†’# æŒ‡å®šè®¾å¤‡IDï¼ˆå¤šè®¾å¤‡æ—¶ä½¿ç”¨ï¼Œé»˜è®¤è‡ªåŠ¨é€‰æ‹©ï¼‰\n    21â†’# PHONE_AGENT_DEVICE_ID=172.16.7.127:42161\n    22â†’\n    23â†’# ADBè·¯å¾„é…ç½®\n    24â†’ADB_PATH=D:\\Adb\\platform-tools\n    25â†’\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"919d581d-c1c5-4acb-9b0f-f9ed8ea2e646","timestamp":"2025-12-16T06:10:24.643Z","toolUseResult":{"type":"text","file":{"filePath":"D:\\Adb\\Open-AutoGLM\\.env","content":"# AutoGLM é…ç½®æ–‡ä»¶\n# è¯·å¡«å†™ä½ çš„APIé…ç½®ä¿¡æ¯\n\n# é€‰æ‹©ä¸€ä¸ªæ¨¡å‹æœåŠ¡å•†ï¼ˆæ™ºè°± BigModel æˆ– ModelScopeï¼‰\n\n# ========== æ™ºè°± BigModel é…ç½® ==========\nPHONE_AGENT_BASE_URL=https://open.bigmodel.cn/api/paas/v4\nPHONE_AGENT_MODEL=autoglm-phone\nPHONE_AGENT_API_KEY=14e4c8ed9dde4caaa294adb1061ec57d.d7DALlu0DejBGguL\n\n# ========== ModelScope é…ç½® ==========\n# PHONE_AGENT_BASE_URL=https://api-inference.modelscope.cn/v1\n# PHONE_AGENT_MODEL=ZhipuAI/AutoGLM-Phone-9B\n# PHONE_AGENT_API_KEY=your-api-key-here\n\n# ========== å…¶ä»–é…ç½® ==========\n# æœ€å¤§æ‰§è¡Œæ­¥éª¤æ•°ï¼ˆé»˜è®¤100ï¼‰\nPHONE_AGENT_MAX_STEPS=100\n\n# æŒ‡å®šè®¾å¤‡IDï¼ˆå¤šè®¾å¤‡æ—¶ä½¿ç”¨ï¼Œé»˜è®¤è‡ªåŠ¨é€‰æ‹©ï¼‰\n# PHONE_AGENT_DEVICE_ID=172.16.7.127:42161\n\n# ADBè·¯å¾„é…ç½®\nADB_PATH=D:\\Adb\\platform-tools\n","numLines":25,"startLine":1,"totalLines":25}}}
{"parentUuid":"919d581d-c1c5-4acb-9b0f-f9ed8ea2e646","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HmXc2cet9X49YnVD1zFkvJ","type":"tool_result","content":"     1â†’#!/usr/bin/env python3\n     2â†’\"\"\"\n     3â†’Phone Agent CLI - AI-powered phone automation.\n     4â†’\n     5â†’Usage:\n     6â†’    python main.py [OPTIONS]\n     7â†’\n     8â†’Environment Variables:\n     9â†’    PHONE_AGENT_BASE_URL: Model API base URL (default: http://localhost:8000/v1)\n    10â†’    PHONE_AGENT_MODEL: Model name (default: autoglm-phone-9b)\n    11â†’    PHONE_AGENT_API_KEY: API key for model authentication (default: EMPTY)\n    12â†’    PHONE_AGENT_MAX_STEPS: Maximum steps per task (default: 100)\n    13â†’    PHONE_AGENT_DEVICE_ID: ADB device ID for multi-device setups\n    14â†’\"\"\"\n    15â†’\n    16â†’import argparse\n    17â†’import io\n    18â†’import os\n    19â†’import shutil\n    20â†’import subprocess\n    21â†’import sys\n    22â†’from urllib.parse import urlparse\n    23â†’\n    24â†’# Fix Windows console encoding issues\n    25â†’if sys.platform == \"win32\":\n    26â†’    try:\n    27â†’        # Try to set UTF-8 encoding for stdout/stderr\n    28â†’        if sys.stdout.encoding.lower() != 'utf-8':\n    29â†’            sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8', errors='replace')\n    30â†’        if sys.stderr.encoding.lower() != 'utf-8':\n    31â†’            sys.stderr = io.TextIOWrapper(sys.stderr.buffer, encoding='utf-8', errors='replace')\n    32â†’    except Exception:\n    33â†’        pass\n    34â†’\n    35â†’from openai import OpenAI\n    36â†’\n    37â†’from phone_agent import PhoneAgent\n    38â†’from phone_agent.adb import ADBConnection, list_devices\n    39â†’from phone_agent.agent import AgentConfig\n    40â†’from phone_agent.config.apps import list_supported_apps\n    41â†’from phone_agent.model import ModelConfig\n    42â†’\n    43â†’\n    44â†’def check_system_requirements() -> bool:\n    45â†’    \"\"\"\n    46â†’    Check system requirements before running the agent.\n    47â†’\n    48â†’    Checks:\n    49â†’    1. ADB tools installed\n    50â†’    2. At least one device connected\n    51â†’    3. ADB Keyboard installed on the device\n    52â†’\n    53â†’    Returns:\n    54â†’        True if all checks pass, False otherwise.\n    55â†’    \"\"\"\n    56â†’    print(\"ğŸ” Checking system requirements...\")\n    57â†’    print(\"-\" * 50)\n    58â†’\n    59â†’    all_passed = True\n    60â†’\n    61â†’    # Check 1: ADB installed\n    62â†’    print(\"1. Checking ADB installation...\", end=\" \")\n    63â†’    if shutil.which(\"adb\") is None:\n    64â†’        print(\"âŒ FAILED\")\n    65â†’        print(\"   Error: ADB is not installed or not in PATH.\")\n    66â†’        print(\"   Solution: Install Android SDK Platform Tools:\")\n    67â†’        print(\"     - macOS: brew install android-platform-tools\")\n    68â†’        print(\"     - Linux: sudo apt install android-tools-adb\")\n    69â†’        print(\n    70â†’            \"     - Windows: Download from https://developer.android.com/studio/releases/platform-tools\"\n    71â†’        )\n    72â†’        all_passed = False\n    73â†’    else:\n    74â†’        # Double check by running adb version\n    75â†’        try:\n    76â†’            result = subprocess.run(\n    77â†’                [\"adb\", \"version\"], capture_output=True, text=True, timeout=10\n    78â†’            )\n    79â†’            if result.returncode == 0:\n    80â†’                version_line = result.stdout.strip().split(\"\\n\")[0]\n    81â†’                print(f\"âœ… OK ({version_line})\")\n    82â†’            else:\n    83â†’                print(\"âŒ FAILED\")\n    84â†’                print(\"   Error: ADB command failed to run.\")\n    85â†’                all_passed = False\n    86â†’        except FileNotFoundError:\n    87â†’            print(\"âŒ FAILED\")\n    88â†’            print(\"   Error: ADB command not found.\")\n    89â†’            all_passed = False\n    90â†’        except subprocess.TimeoutExpired:\n    91â†’            print(\"âŒ FAILED\")\n    92â†’            print(\"   Error: ADB command timed out.\")\n    93â†’            all_passed = False\n    94â†’\n    95â†’    # If ADB is not installed, skip remaining checks\n    96â†’    if not all_passed:\n    97â†’        print(\"-\" * 50)\n    98â†’        print(\"âŒ System check failed. Please fix the issues above.\")\n    99â†’        return False\n   100â†’\n   101â†’    # Check 2: Device connected\n   102â†’    print(\"2. Checking connected devices...\", end=\" \")\n   103â†’    try:\n   104â†’        result = subprocess.run(\n   105â†’            [\"adb\", \"devices\"], capture_output=True, text=True, timeout=10\n   106â†’        )\n   107â†’        lines = result.stdout.strip().split(\"\\n\")\n   108â†’        # Filter out header and empty lines, look for 'device' status\n   109â†’        devices = [line for line in lines[1:] if line.strip() and \"\\tdevice\" in line]\n   110â†’\n   111â†’        if not devices:\n   112â†’            print(\"âŒ FAILED\")\n   113â†’            print(\"   Error: No devices connected.\")\n   114â†’            print(\"   Solution:\")\n   115â†’            print(\"     1. Enable USB debugging on your Android device\")\n   116â†’            print(\"     2. Connect via USB and authorize the connection\")\n   117â†’            print(\"     3. Or connect remotely: python main.py --connect <ip>:<port>\")\n   118â†’            all_passed = False\n   119â†’        else:\n   120â†’            device_ids = [d.split(\"\\t\")[0] for d in devices]\n   121â†’            print(f\"âœ… OK ({len(devices)} device(s): {', '.join(device_ids)})\")\n   122â†’    except subprocess.TimeoutExpired:\n   123â†’        print(\"âŒ FAILED\")\n   124â†’        print(\"   Error: ADB command timed out.\")\n   125â†’        all_passed = False\n   126â†’    except Exception as e:\n   127â†’        print(\"âŒ FAILED\")\n   128â†’        print(f\"   Error: {e}\")\n   129â†’        all_passed = False\n   130â†’\n   131â†’    # If no device connected, skip ADB Keyboard check\n   132â†’    if not all_passed:\n   133â†’        print(\"-\" * 50)\n   134â†’        print(\"âŒ System check failed. Please fix the issues above.\")\n   135â†’        return False\n   136â†’\n   137â†’    # Check 3: ADB Keyboard installed\n   138â†’    print(\"3. Checking ADB Keyboard...\", end=\" \")\n   139â†’    try:\n   140â†’        result = subprocess.run(\n   141â†’            [\"adb\", \"shell\", \"ime\", \"list\", \"-s\"],\n   142â†’            capture_output=True,\n   143â†’            text=True,\n   144â†’            timeout=10,\n   145â†’        )\n   146â†’        ime_list = result.stdout.strip()\n   147â†’\n   148â†’        if \"com.android.adbkeyboard/.AdbIME\" in ime_list:\n   149â†’            print(\"âœ… OK\")\n   150â†’        else:\n   151â†’            print(\"âŒ FAILED\")\n   152â†’            print(\"   Error: ADB Keyboard is not installed on the device.\")\n   153â†’            print(\"   Solution:\")\n   154â†’            print(\"     1. Download ADB Keyboard APK from:\")\n   155â†’            print(\n   156â†’                \"        https://github.com/senzhk/ADBKeyBoard/blob/master/ADBKeyboard.apk\"\n   157â†’            )\n   158â†’            print(\"     2. Install it on your device: adb install ADBKeyboard.apk\")\n   159â†’            print(\n   160â†’                \"     3. Enable it in Settings > System > Languages & Input > Virtual Keyboard\"\n   161â†’            )\n   162â†’            all_passed = False\n   163â†’    except subprocess.TimeoutExpired:\n   164â†’        print(\"âŒ FAILED\")\n   165â†’        print(\"   Error: ADB command timed out.\")\n   166â†’        all_passed = False\n   167â†’    except Exception as e:\n   168â†’        print(\"âŒ FAILED\")\n   169â†’        print(f\"   Error: {e}\")\n   170â†’        all_passed = False\n   171â†’\n   172â†’    print(\"-\" * 50)\n   173â†’\n   174â†’    if all_passed:\n   175â†’        print(\"âœ… All system checks passed!\\n\")\n   176â†’    else:\n   177â†’        print(\"âŒ System check failed. Please fix the issues above.\")\n   178â†’\n   179â†’    return all_passed\n   180â†’\n   181â†’\n   182â†’def check_model_api(base_url: str, model_name: str, api_key: str = \"EMPTY\") -> bool:\n   183â†’    \"\"\"\n   184â†’    Check if the model API is accessible and the specified model exists.\n   185â†’\n   186â†’    Checks:\n   187â†’    1. Network connectivity to the API endpoint\n   188â†’    2. Model exists in the available models list\n   189â†’\n   190â†’    Args:\n   191â†’        base_url: The API base URL\n   192â†’        model_name: The model name to check\n   193â†’        api_key: The API key for authentication\n   194â†’\n   195â†’    Returns:\n   196â†’        True if all checks pass, False otherwise.\n   197â†’    \"\"\"\n   198â†’    print(\"ğŸ” Checking model API...\")\n   199â†’    print(\"-\" * 50)\n   200â†’\n   201â†’    all_passed = True\n   202â†’\n   203â†’    # Check 1: Network connectivity using chat API\n   204â†’    print(f\"1. Checking API connectivity ({base_url})...\", end=\" \")\n   205â†’    try:\n   206â†’        # Create OpenAI client\n   207â†’        client = OpenAI(base_url=base_url, api_key=api_key, timeout=30.0)\n   208â†’\n   209â†’        # Use chat completion to test connectivity (more universally supported than /models)\n   210â†’        response = client.chat.completions.create(\n   211â†’            model=model_name,\n   212â†’            messages=[{\"role\": \"user\", \"content\": \"Hi\"}],\n   213â†’            max_tokens=5,\n   214â†’            temperature=0.0,\n   215â†’            stream=False,\n   216â†’        )\n   217â†’\n   218â†’        # Check if we got a valid response\n   219â†’        if response.choices and len(response.choices) > 0:\n   220â†’            print(\"âœ… OK\")\n   221â†’        else:\n   222â†’            print(\"âŒ FAILED\")\n   223â†’            print(\"   Error: Received empty response from API\")\n   224â†’            all_passed = False\n   225â†’\n   226â†’    except Exception as e:\n   227â†’        print(\"âŒ FAILED\")\n   228â†’        error_msg = str(e)\n   229â†’\n   230â†’        # Provide more specific error messages\n   231â†’        if \"Connection refused\" in error_msg or \"Connection error\" in error_msg:\n   232â†’            print(f\"   Error: Cannot connect to {base_url}\")\n   233â†’            print(\"   Solution:\")\n   234â†’            print(\"     1. Check if the model server is running\")\n   235â†’            print(\"     2. Verify the base URL is correct\")\n   236â†’            print(f\"     3. Try: curl {base_url}/chat/completions\")\n   237â†’        elif \"timed out\" in error_msg.lower() or \"timeout\" in error_msg.lower():\n   238â†’            print(f\"   Error: Connection to {base_url} timed out\")\n   239â†’            print(\"   Solution:\")\n   240â†’            print(\"     1. Check your network connection\")\n   241â†’            print(\"     2. Verify the server is responding\")\n   242â†’        elif (\n   243â†’            \"Name or service not known\" in error_msg\n   244â†’            or \"nodename nor servname\" in error_msg\n   245â†’        ):\n   246â†’            print(f\"   Error: Cannot resolve hostname\")\n   247â†’            print(\"   Solution:\")\n   248â†’            print(\"     1. Check the URL is correct\")\n   249â†’            print(\"     2. Verify DNS settings\")\n   250â†’        else:\n   251â†’            print(f\"   Error: {error_msg}\")\n   252â†’\n   253â†’        all_passed = False\n   254â†’\n   255â†’    print(\"-\" * 50)\n   256â†’\n   257â†’    if all_passed:\n   258â†’        print(\"âœ… Model API checks passed!\\n\")\n   259â†’    else:\n   260â†’        print(\"âŒ Model API check failed. Please fix the issues above.\")\n   261â†’\n   262â†’    return all_passed\n   263â†’\n   264â†’\n   265â†’def parse_args() -> argparse.Namespace:\n   266â†’    \"\"\"Parse command line arguments.\"\"\"\n   267â†’    parser = argparse.ArgumentParser(\n   268â†’        description=\"Phone Agent - AI-powered phone automation\",\n   269â†’        formatter_class=argparse.RawDescriptionHelpFormatter,\n   270â†’        epilog=\"\"\"\n   271â†’Examples:\n   272â†’    # Run with default settings\n   273â†’    python main.py\n   274â†’\n   275â†’    # Specify model endpoint\n   276â†’    python main.py --base-url http://localhost:8000/v1\n   277â†’\n   278â†’    # Use API key for authentication\n   279â†’    python main.py --apikey sk-xxxxx\n   280â†’\n   281â†’    # Run with specific device\n   282â†’    python main.py --device-id emulator-5554\n   283â†’\n   284â†’    # Connect to remote device\n   285â†’    python main.py --connect 192.168.1.100:5555\n   286â†’\n   287â†’    # List connected devices\n   288â†’    python main.py --list-devices\n   289â†’\n   290â†’    # Enable TCP/IP on USB device and get connection info\n   291â†’    python main.py --enable-tcpip\n   292â†’\n   293â†’    # List supported apps\n   294â†’    python main.py --list-apps\n   295â†’        \"\"\",\n   296â†’    )\n   297â†’\n   298â†’    # Model options\n   299â†’    parser.add_argument(\n   300â†’        \"--base-url\",\n   301â†’        type=str,\n   302â†’        default=os.getenv(\"PHONE_AGENT_BASE_URL\", \"http://localhost:8000/v1\"),\n   303â†’        help=\"Model API base URL\",\n   304â†’    )\n   305â†’\n   306â†’    parser.add_argument(\n   307â†’        \"--model\",\n   308â†’        type=str,\n   309â†’        default=os.getenv(\"PHONE_AGENT_MODEL\", \"autoglm-phone-9b\"),\n   310â†’        help=\"Model name\",\n   311â†’    )\n   312â†’\n   313â†’    parser.add_argument(\n   314â†’        \"--apikey\",\n   315â†’        type=str,\n   316â†’        default=os.getenv(\"PHONE_AGENT_API_KEY\", \"EMPTY\"),\n   317â†’        help=\"API key for model authentication\",\n   318â†’    )\n   319â†’\n   320â†’    parser.add_argument(\n   321â†’        \"--max-steps\",\n   322â†’        type=int,\n   323â†’        default=int(os.getenv(\"PHONE_AGENT_MAX_STEPS\", \"100\")),\n   324â†’        help=\"Maximum steps per task\",\n   325â†’    )\n   326â†’\n   327â†’    # Device options\n   328â†’    parser.add_argument(\n   329â†’        \"--device-id\",\n   330â†’        \"-d\",\n   331â†’        type=str,\n   332â†’        default=os.getenv(\"PHONE_AGENT_DEVICE_ID\"),\n   333â†’        help=\"ADB device ID\",\n   334â†’    )\n   335â†’\n   336â†’    parser.add_argument(\n   337â†’        \"--connect\",\n   338â†’        \"-c\",\n   339â†’        type=str,\n   340â†’        metavar=\"ADDRESS\",\n   341â†’        help=\"Connect to remote device (e.g., 192.168.1.100:5555)\",\n   342â†’    )\n   343â†’\n   344â†’    parser.add_argument(\n   345â†’        \"--disconnect\",\n   346â†’        type=str,\n   347â†’        nargs=\"?\",\n   348â†’        const=\"all\",\n   349â†’        metavar=\"ADDRESS\",\n   350â†’        help=\"Disconnect from remote device (or 'all' to disconnect all)\",\n   351â†’    )\n   352â†’\n   353â†’    parser.add_argument(\n   354â†’        \"--list-devices\", action=\"store_true\", help=\"List connected devices and exit\"\n   355â†’    )\n   356â†’\n   357â†’    parser.add_argument(\n   358â†’        \"--enable-tcpip\",\n   359â†’        type=int,\n   360â†’        nargs=\"?\",\n   361â†’        const=5555,\n   362â†’        metavar=\"PORT\",\n   363â†’        help=\"Enable TCP/IP debugging on USB device (default port: 5555)\",\n   364â†’    )\n   365â†’\n   366â†’    # Other options\n   367â†’    parser.add_argument(\n   368â†’        \"--quiet\", \"-q\", action=\"store_true\", help=\"Suppress verbose output\"\n   369â†’    )\n   370â†’\n   371â†’    parser.add_argument(\n   372â†’        \"--list-apps\", action=\"store_true\", help=\"List supported apps and exit\"\n   373â†’    )\n   374â†’\n   375â†’    parser.add_argument(\n   376â†’        \"--lang\",\n   377â†’        type=str,\n   378â†’        choices=[\"cn\", \"en\"],\n   379â†’        default=os.getenv(\"PHONE_AGENT_LANG\", \"cn\"),\n   380â†’        help=\"Language for system prompt (cn or en, default: cn)\",\n   381â†’    )\n   382â†’\n   383â†’    parser.add_argument(\n   384â†’        \"task\",\n   385â†’        nargs=\"?\",\n   386â†’        type=str,\n   387â†’        help=\"Task to execute (interactive mode if not provided)\",\n   388â†’    )\n   389â†’\n   390â†’    return parser.parse_args()\n   391â†’\n   392â†’\n   393â†’def handle_device_commands(args) -> bool:\n   394â†’    \"\"\"\n   395â†’    Handle device-related commands.\n   396â†’\n   397â†’    Returns:\n   398â†’        True if a device command was handled (should exit), False otherwise.\n   399â†’    \"\"\"\n   400â†’    conn = ADBConnection()\n   401â†’\n   402â†’    # Handle --list-devices\n   403â†’    if args.list_devices:\n   404â†’        devices = list_devices()\n   405â†’        if not devices:\n   406â†’            print(\"No devices connected.\")\n   407â†’        else:\n   408â†’            print(\"Connected devices:\")\n   409â†’            print(\"-\" * 60)\n   410â†’            for device in devices:\n   411â†’                status_icon = \"âœ“\" if device.status == \"device\" else \"âœ—\"\n   412â†’                conn_type = device.connection_type.value\n   413â†’                model_info = f\" ({device.model})\" if device.model else \"\"\n   414â†’                print(\n   415â†’                    f\"  {status_icon} {device.device_id:<30} [{conn_type}]{model_info}\"\n   416â†’                )\n   417â†’        return True\n   418â†’\n   419â†’    # Handle --connect\n   420â†’    if args.connect:\n   421â†’        print(f\"Connecting to {args.connect}...\")\n   422â†’        success, message = conn.connect(args.connect)\n   423â†’        print(f\"{'âœ“' if success else 'âœ—'} {message}\")\n   424â†’        if success:\n   425â†’            # Set as default device\n   426â†’            args.device_id = args.connect\n   427â†’        return not success  # Continue if connection succeeded\n   428â†’\n   429â†’    # Handle --disconnect\n   430â†’    if args.disconnect:\n   431â†’        if args.disconnect == \"all\":\n   432â†’            print(\"Disconnecting all remote devices...\")\n   433â†’            success, message = conn.disconnect()\n   434â†’        else:\n   435â†’            print(f\"Disconnecting from {args.disconnect}...\")\n   436â†’            success, message = conn.disconnect(args.disconnect)\n   437â†’        print(f\"{'âœ“' if success else 'âœ—'} {message}\")\n   438â†’        return True\n   439â†’\n   440â†’    # Handle --enable-tcpip\n   441â†’    if args.enable_tcpip:\n   442â†’        port = args.enable_tcpip\n   443â†’        print(f\"Enabling TCP/IP debugging on port {port}...\")\n   444â†’\n   445â†’        success, message = conn.enable_tcpip(port, args.device_id)\n   446â†’        print(f\"{'âœ“' if success else 'âœ—'} {message}\")\n   447â†’\n   448â†’        if success:\n   449â†’            # Try to get device IP\n   450â†’            ip = conn.get_device_ip(args.device_id)\n   451â†’            if ip:\n   452â†’                print(f\"\\nYou can now connect remotely using:\")\n   453â†’                print(f\"  python main.py --connect {ip}:{port}\")\n   454â†’                print(f\"\\nOr via ADB directly:\")\n   455â†’                print(f\"  adb connect {ip}:{port}\")\n   456â†’            else:\n   457â†’                print(\"\\nCould not determine device IP. Check device WiFi settings.\")\n   458â†’        return True\n   459â†’\n   460â†’    return False\n   461â†’\n   462â†’\n   463â†’def main():\n   464â†’    \"\"\"Main entry point.\"\"\"\n   465â†’    args = parse_args()\n   466â†’\n   467â†’    # Handle --list-apps (no system check needed)\n   468â†’    if args.list_apps:\n   469â†’        print(\"Supported apps:\")\n   470â†’        for app in sorted(list_supported_apps()):\n   471â†’            print(f\"  - {app}\")\n   472â†’        return\n   473â†’\n   474â†’    # Handle device commands (these may need partial system checks)\n   475â†’    if handle_device_commands(args):\n   476â†’        return\n   477â†’\n   478â†’    # Run system requirements check before proceeding\n   479â†’    if not check_system_requirements():\n   480â†’        sys.exit(1)\n   481â†’\n   482â†’    # Check model API connectivity and model availability\n   483â†’    if not check_model_api(args.base_url, args.model, args.apikey):\n   484â†’        sys.exit(1)\n   485â†’\n   486â†’    # Create configurations\n   487â†’    model_config = ModelConfig(\n   488â†’        base_url=args.base_url,\n   489â†’        model_name=args.model,\n   490â†’        api_key=args.apikey,\n   491â†’        lang=args.lang,\n   492â†’    )\n   493â†’\n   494â†’    agent_config = AgentConfig(\n   495â†’        max_steps=args.max_steps,\n   496â†’        device_id=args.device_id,\n   497â†’        verbose=not args.quiet,\n   498â†’        lang=args.lang,\n   499â†’    )\n   500â†’\n   501â†’    # Create agent\n   502â†’    agent = PhoneAgent(\n   503â†’        model_config=model_config,\n   504â†’        agent_config=agent_config,\n   505â†’    )\n   506â†’\n   507â†’    # Print header\n   508â†’    print(\"=\" * 50)\n   509â†’    print(\"Phone Agent - AI-powered phone automation\")\n   510â†’    print(\"=\" * 50)\n   511â†’    print(f\"Model: {model_config.model_name}\")\n   512â†’    print(f\"Base URL: {model_config.base_url}\")\n   513â†’    print(f\"Max Steps: {agent_config.max_steps}\")\n   514â†’    print(f\"Language: {agent_config.lang}\")\n   515â†’\n   516â†’    # Show device info\n   517â†’    devices = list_devices()\n   518â†’    if agent_config.device_id:\n   519â†’        print(f\"Device: {agent_config.device_id}\")\n   520â†’    elif devices:\n   521â†’        print(f\"Device: {devices[0].device_id} (auto-detected)\")\n   522â†’\n   523â†’    print(\"=\" * 50)\n   524â†’\n   525â†’    # Run with provided task or enter interactive mode\n   526â†’    if args.task:\n   527â†’        print(f\"\\nTask: {args.task}\\n\")\n   528â†’        result = agent.run(args.task)\n   529â†’        print(f\"\\nResult: {result}\")\n   530â†’    else:\n   531â†’        # Interactive mode\n   532â†’        print(\"\\nEntering interactive mode. Type 'quit' to exit.\\n\")\n   533â†’\n   534â†’        while True:\n   535â†’            try:\n   536â†’                task = input(\"Enter your task: \").strip()\n   537â†’\n   538â†’                if task.lower() in (\"quit\", \"exit\", \"q\"):\n   539â†’                    print(\"Goodbye!\")\n   540â†’                    break\n   541â†’\n   542â†’                if not task:\n   543â†’                    continue\n   544â†’\n   545â†’                print()\n   546â†’                result = agent.run(task)\n   547â†’                print(f\"\\nResult: {result}\\n\")\n   548â†’                agent.reset()\n   549â†’\n   550â†’            except KeyboardInterrupt:\n   551â†’                print(\"\\n\\nInterrupted. Goodbye!\")\n   552â†’                break\n   553â†’            except Exception as e:\n   554â†’                print(f\"\\nError: {e}\\n\")\n   555â†’\n   556â†’\n   557â†’if __name__ == \"__main__\":\n   558â†’    main()\n   559â†’\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"f97097ba-a0bf-443a-a3d4-b9ee423eae6b","timestamp":"2025-12-16T06:10:24.643Z","toolUseResult":{"type":"text","file":{"filePath":"D:\\Adb\\Open-AutoGLM\\main.py","content":"#!/usr/bin/env python3\n\"\"\"\nPhone Agent CLI - AI-powered phone automation.\n\nUsage:\n    python main.py [OPTIONS]\n\nEnvironment Variables:\n    PHONE_AGENT_BASE_URL: Model API base URL (default: http://localhost:8000/v1)\n    PHONE_AGENT_MODEL: Model name (default: autoglm-phone-9b)\n    PHONE_AGENT_API_KEY: API key for model authentication (default: EMPTY)\n    PHONE_AGENT_MAX_STEPS: Maximum steps per task (default: 100)\n    PHONE_AGENT_DEVICE_ID: ADB device ID for multi-device setups\n\"\"\"\n\nimport argparse\nimport io\nimport os\nimport shutil\nimport subprocess\nimport sys\nfrom urllib.parse import urlparse\n\n# Fix Windows console encoding issues\nif sys.platform == \"win32\":\n    try:\n        # Try to set UTF-8 encoding for stdout/stderr\n        if sys.stdout.encoding.lower() != 'utf-8':\n            sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8', errors='replace')\n        if sys.stderr.encoding.lower() != 'utf-8':\n            sys.stderr = io.TextIOWrapper(sys.stderr.buffer, encoding='utf-8', errors='replace')\n    except Exception:\n        pass\n\nfrom openai import OpenAI\n\nfrom phone_agent import PhoneAgent\nfrom phone_agent.adb import ADBConnection, list_devices\nfrom phone_agent.agent import AgentConfig\nfrom phone_agent.config.apps import list_supported_apps\nfrom phone_agent.model import ModelConfig\n\n\ndef check_system_requirements() -> bool:\n    \"\"\"\n    Check system requirements before running the agent.\n\n    Checks:\n    1. ADB tools installed\n    2. At least one device connected\n    3. ADB Keyboard installed on the device\n\n    Returns:\n        True if all checks pass, False otherwise.\n    \"\"\"\n    print(\"ğŸ” Checking system requirements...\")\n    print(\"-\" * 50)\n\n    all_passed = True\n\n    # Check 1: ADB installed\n    print(\"1. Checking ADB installation...\", end=\" \")\n    if shutil.which(\"adb\") is None:\n        print(\"âŒ FAILED\")\n        print(\"   Error: ADB is not installed or not in PATH.\")\n        print(\"   Solution: Install Android SDK Platform Tools:\")\n        print(\"     - macOS: brew install android-platform-tools\")\n        print(\"     - Linux: sudo apt install android-tools-adb\")\n        print(\n            \"     - Windows: Download from https://developer.android.com/studio/releases/platform-tools\"\n        )\n        all_passed = False\n    else:\n        # Double check by running adb version\n        try:\n            result = subprocess.run(\n                [\"adb\", \"version\"], capture_output=True, text=True, timeout=10\n            )\n            if result.returncode == 0:\n                version_line = result.stdout.strip().split(\"\\n\")[0]\n                print(f\"âœ… OK ({version_line})\")\n            else:\n                print(\"âŒ FAILED\")\n                print(\"   Error: ADB command failed to run.\")\n                all_passed = False\n        except FileNotFoundError:\n            print(\"âŒ FAILED\")\n            print(\"   Error: ADB command not found.\")\n            all_passed = False\n        except subprocess.TimeoutExpired:\n            print(\"âŒ FAILED\")\n            print(\"   Error: ADB command timed out.\")\n            all_passed = False\n\n    # If ADB is not installed, skip remaining checks\n    if not all_passed:\n        print(\"-\" * 50)\n        print(\"âŒ System check failed. Please fix the issues above.\")\n        return False\n\n    # Check 2: Device connected\n    print(\"2. Checking connected devices...\", end=\" \")\n    try:\n        result = subprocess.run(\n            [\"adb\", \"devices\"], capture_output=True, text=True, timeout=10\n        )\n        lines = result.stdout.strip().split(\"\\n\")\n        # Filter out header and empty lines, look for 'device' status\n        devices = [line for line in lines[1:] if line.strip() and \"\\tdevice\" in line]\n\n        if not devices:\n            print(\"âŒ FAILED\")\n            print(\"   Error: No devices connected.\")\n            print(\"   Solution:\")\n            print(\"     1. Enable USB debugging on your Android device\")\n            print(\"     2. Connect via USB and authorize the connection\")\n            print(\"     3. Or connect remotely: python main.py --connect <ip>:<port>\")\n            all_passed = False\n        else:\n            device_ids = [d.split(\"\\t\")[0] for d in devices]\n            print(f\"âœ… OK ({len(devices)} device(s): {', '.join(device_ids)})\")\n    except subprocess.TimeoutExpired:\n        print(\"âŒ FAILED\")\n        print(\"   Error: ADB command timed out.\")\n        all_passed = False\n    except Exception as e:\n        print(\"âŒ FAILED\")\n        print(f\"   Error: {e}\")\n        all_passed = False\n\n    # If no device connected, skip ADB Keyboard check\n    if not all_passed:\n        print(\"-\" * 50)\n        print(\"âŒ System check failed. Please fix the issues above.\")\n        return False\n\n    # Check 3: ADB Keyboard installed\n    print(\"3. Checking ADB Keyboard...\", end=\" \")\n    try:\n        result = subprocess.run(\n            [\"adb\", \"shell\", \"ime\", \"list\", \"-s\"],\n            capture_output=True,\n            text=True,\n            timeout=10,\n        )\n        ime_list = result.stdout.strip()\n\n        if \"com.android.adbkeyboard/.AdbIME\" in ime_list:\n            print(\"âœ… OK\")\n        else:\n            print(\"âŒ FAILED\")\n            print(\"   Error: ADB Keyboard is not installed on the device.\")\n            print(\"   Solution:\")\n            print(\"     1. Download ADB Keyboard APK from:\")\n            print(\n                \"        https://github.com/senzhk/ADBKeyBoard/blob/master/ADBKeyboard.apk\"\n            )\n            print(\"     2. Install it on your device: adb install ADBKeyboard.apk\")\n            print(\n                \"     3. Enable it in Settings > System > Languages & Input > Virtual Keyboard\"\n            )\n            all_passed = False\n    except subprocess.TimeoutExpired:\n        print(\"âŒ FAILED\")\n        print(\"   Error: ADB command timed out.\")\n        all_passed = False\n    except Exception as e:\n        print(\"âŒ FAILED\")\n        print(f\"   Error: {e}\")\n        all_passed = False\n\n    print(\"-\" * 50)\n\n    if all_passed:\n        print(\"âœ… All system checks passed!\\n\")\n    else:\n        print(\"âŒ System check failed. Please fix the issues above.\")\n\n    return all_passed\n\n\ndef check_model_api(base_url: str, model_name: str, api_key: str = \"EMPTY\") -> bool:\n    \"\"\"\n    Check if the model API is accessible and the specified model exists.\n\n    Checks:\n    1. Network connectivity to the API endpoint\n    2. Model exists in the available models list\n\n    Args:\n        base_url: The API base URL\n        model_name: The model name to check\n        api_key: The API key for authentication\n\n    Returns:\n        True if all checks pass, False otherwise.\n    \"\"\"\n    print(\"ğŸ” Checking model API...\")\n    print(\"-\" * 50)\n\n    all_passed = True\n\n    # Check 1: Network connectivity using chat API\n    print(f\"1. Checking API connectivity ({base_url})...\", end=\" \")\n    try:\n        # Create OpenAI client\n        client = OpenAI(base_url=base_url, api_key=api_key, timeout=30.0)\n\n        # Use chat completion to test connectivity (more universally supported than /models)\n        response = client.chat.completions.create(\n            model=model_name,\n            messages=[{\"role\": \"user\", \"content\": \"Hi\"}],\n            max_tokens=5,\n            temperature=0.0,\n            stream=False,\n        )\n\n        # Check if we got a valid response\n        if response.choices and len(response.choices) > 0:\n            print(\"âœ… OK\")\n        else:\n            print(\"âŒ FAILED\")\n            print(\"   Error: Received empty response from API\")\n            all_passed = False\n\n    except Exception as e:\n        print(\"âŒ FAILED\")\n        error_msg = str(e)\n\n        # Provide more specific error messages\n        if \"Connection refused\" in error_msg or \"Connection error\" in error_msg:\n            print(f\"   Error: Cannot connect to {base_url}\")\n            print(\"   Solution:\")\n            print(\"     1. Check if the model server is running\")\n            print(\"     2. Verify the base URL is correct\")\n            print(f\"     3. Try: curl {base_url}/chat/completions\")\n        elif \"timed out\" in error_msg.lower() or \"timeout\" in error_msg.lower():\n            print(f\"   Error: Connection to {base_url} timed out\")\n            print(\"   Solution:\")\n            print(\"     1. Check your network connection\")\n            print(\"     2. Verify the server is responding\")\n        elif (\n            \"Name or service not known\" in error_msg\n            or \"nodename nor servname\" in error_msg\n        ):\n            print(f\"   Error: Cannot resolve hostname\")\n            print(\"   Solution:\")\n            print(\"     1. Check the URL is correct\")\n            print(\"     2. Verify DNS settings\")\n        else:\n            print(f\"   Error: {error_msg}\")\n\n        all_passed = False\n\n    print(\"-\" * 50)\n\n    if all_passed:\n        print(\"âœ… Model API checks passed!\\n\")\n    else:\n        print(\"âŒ Model API check failed. Please fix the issues above.\")\n\n    return all_passed\n\n\ndef parse_args() -> argparse.Namespace:\n    \"\"\"Parse command line arguments.\"\"\"\n    parser = argparse.ArgumentParser(\n        description=\"Phone Agent - AI-powered phone automation\",\n        formatter_class=argparse.RawDescriptionHelpFormatter,\n        epilog=\"\"\"\nExamples:\n    # Run with default settings\n    python main.py\n\n    # Specify model endpoint\n    python main.py --base-url http://localhost:8000/v1\n\n    # Use API key for authentication\n    python main.py --apikey sk-xxxxx\n\n    # Run with specific device\n    python main.py --device-id emulator-5554\n\n    # Connect to remote device\n    python main.py --connect 192.168.1.100:5555\n\n    # List connected devices\n    python main.py --list-devices\n\n    # Enable TCP/IP on USB device and get connection info\n    python main.py --enable-tcpip\n\n    # List supported apps\n    python main.py --list-apps\n        \"\"\",\n    )\n\n    # Model options\n    parser.add_argument(\n        \"--base-url\",\n        type=str,\n        default=os.getenv(\"PHONE_AGENT_BASE_URL\", \"http://localhost:8000/v1\"),\n        help=\"Model API base URL\",\n    )\n\n    parser.add_argument(\n        \"--model\",\n        type=str,\n        default=os.getenv(\"PHONE_AGENT_MODEL\", \"autoglm-phone-9b\"),\n        help=\"Model name\",\n    )\n\n    parser.add_argument(\n        \"--apikey\",\n        type=str,\n        default=os.getenv(\"PHONE_AGENT_API_KEY\", \"EMPTY\"),\n        help=\"API key for model authentication\",\n    )\n\n    parser.add_argument(\n        \"--max-steps\",\n        type=int,\n        default=int(os.getenv(\"PHONE_AGENT_MAX_STEPS\", \"100\")),\n        help=\"Maximum steps per task\",\n    )\n\n    # Device options\n    parser.add_argument(\n        \"--device-id\",\n        \"-d\",\n        type=str,\n        default=os.getenv(\"PHONE_AGENT_DEVICE_ID\"),\n        help=\"ADB device ID\",\n    )\n\n    parser.add_argument(\n        \"--connect\",\n        \"-c\",\n        type=str,\n        metavar=\"ADDRESS\",\n        help=\"Connect to remote device (e.g., 192.168.1.100:5555)\",\n    )\n\n    parser.add_argument(\n        \"--disconnect\",\n        type=str,\n        nargs=\"?\",\n        const=\"all\",\n        metavar=\"ADDRESS\",\n        help=\"Disconnect from remote device (or 'all' to disconnect all)\",\n    )\n\n    parser.add_argument(\n        \"--list-devices\", action=\"store_true\", help=\"List connected devices and exit\"\n    )\n\n    parser.add_argument(\n        \"--enable-tcpip\",\n        type=int,\n        nargs=\"?\",\n        const=5555,\n        metavar=\"PORT\",\n        help=\"Enable TCP/IP debugging on USB device (default port: 5555)\",\n    )\n\n    # Other options\n    parser.add_argument(\n        \"--quiet\", \"-q\", action=\"store_true\", help=\"Suppress verbose output\"\n    )\n\n    parser.add_argument(\n        \"--list-apps\", action=\"store_true\", help=\"List supported apps and exit\"\n    )\n\n    parser.add_argument(\n        \"--lang\",\n        type=str,\n        choices=[\"cn\", \"en\"],\n        default=os.getenv(\"PHONE_AGENT_LANG\", \"cn\"),\n        help=\"Language for system prompt (cn or en, default: cn)\",\n    )\n\n    parser.add_argument(\n        \"task\",\n        nargs=\"?\",\n        type=str,\n        help=\"Task to execute (interactive mode if not provided)\",\n    )\n\n    return parser.parse_args()\n\n\ndef handle_device_commands(args) -> bool:\n    \"\"\"\n    Handle device-related commands.\n\n    Returns:\n        True if a device command was handled (should exit), False otherwise.\n    \"\"\"\n    conn = ADBConnection()\n\n    # Handle --list-devices\n    if args.list_devices:\n        devices = list_devices()\n        if not devices:\n            print(\"No devices connected.\")\n        else:\n            print(\"Connected devices:\")\n            print(\"-\" * 60)\n            for device in devices:\n                status_icon = \"âœ“\" if device.status == \"device\" else \"âœ—\"\n                conn_type = device.connection_type.value\n                model_info = f\" ({device.model})\" if device.model else \"\"\n                print(\n                    f\"  {status_icon} {device.device_id:<30} [{conn_type}]{model_info}\"\n                )\n        return True\n\n    # Handle --connect\n    if args.connect:\n        print(f\"Connecting to {args.connect}...\")\n        success, message = conn.connect(args.connect)\n        print(f\"{'âœ“' if success else 'âœ—'} {message}\")\n        if success:\n            # Set as default device\n            args.device_id = args.connect\n        return not success  # Continue if connection succeeded\n\n    # Handle --disconnect\n    if args.disconnect:\n        if args.disconnect == \"all\":\n            print(\"Disconnecting all remote devices...\")\n            success, message = conn.disconnect()\n        else:\n            print(f\"Disconnecting from {args.disconnect}...\")\n            success, message = conn.disconnect(args.disconnect)\n        print(f\"{'âœ“' if success else 'âœ—'} {message}\")\n        return True\n\n    # Handle --enable-tcpip\n    if args.enable_tcpip:\n        port = args.enable_tcpip\n        print(f\"Enabling TCP/IP debugging on port {port}...\")\n\n        success, message = conn.enable_tcpip(port, args.device_id)\n        print(f\"{'âœ“' if success else 'âœ—'} {message}\")\n\n        if success:\n            # Try to get device IP\n            ip = conn.get_device_ip(args.device_id)\n            if ip:\n                print(f\"\\nYou can now connect remotely using:\")\n                print(f\"  python main.py --connect {ip}:{port}\")\n                print(f\"\\nOr via ADB directly:\")\n                print(f\"  adb connect {ip}:{port}\")\n            else:\n                print(\"\\nCould not determine device IP. Check device WiFi settings.\")\n        return True\n\n    return False\n\n\ndef main():\n    \"\"\"Main entry point.\"\"\"\n    args = parse_args()\n\n    # Handle --list-apps (no system check needed)\n    if args.list_apps:\n        print(\"Supported apps:\")\n        for app in sorted(list_supported_apps()):\n            print(f\"  - {app}\")\n        return\n\n    # Handle device commands (these may need partial system checks)\n    if handle_device_commands(args):\n        return\n\n    # Run system requirements check before proceeding\n    if not check_system_requirements():\n        sys.exit(1)\n\n    # Check model API connectivity and model availability\n    if not check_model_api(args.base_url, args.model, args.apikey):\n        sys.exit(1)\n\n    # Create configurations\n    model_config = ModelConfig(\n        base_url=args.base_url,\n        model_name=args.model,\n        api_key=args.apikey,\n        lang=args.lang,\n    )\n\n    agent_config = AgentConfig(\n        max_steps=args.max_steps,\n        device_id=args.device_id,\n        verbose=not args.quiet,\n        lang=args.lang,\n    )\n\n    # Create agent\n    agent = PhoneAgent(\n        model_config=model_config,\n        agent_config=agent_config,\n    )\n\n    # Print header\n    print(\"=\" * 50)\n    print(\"Phone Agent - AI-powered phone automation\")\n    print(\"=\" * 50)\n    print(f\"Model: {model_config.model_name}\")\n    print(f\"Base URL: {model_config.base_url}\")\n    print(f\"Max Steps: {agent_config.max_steps}\")\n    print(f\"Language: {agent_config.lang}\")\n\n    # Show device info\n    devices = list_devices()\n    if agent_config.device_id:\n        print(f\"Device: {agent_config.device_id}\")\n    elif devices:\n        print(f\"Device: {devices[0].device_id} (auto-detected)\")\n\n    print(\"=\" * 50)\n\n    # Run with provided task or enter interactive mode\n    if args.task:\n        print(f\"\\nTask: {args.task}\\n\")\n        result = agent.run(args.task)\n        print(f\"\\nResult: {result}\")\n    else:\n        # Interactive mode\n        print(\"\\nEntering interactive mode. Type 'quit' to exit.\\n\")\n\n        while True:\n            try:\n                task = input(\"Enter your task: \").strip()\n\n                if task.lower() in (\"quit\", \"exit\", \"q\"):\n                    print(\"Goodbye!\")\n                    break\n\n                if not task:\n                    continue\n\n                print()\n                result = agent.run(task)\n                print(f\"\\nResult: {result}\\n\")\n                agent.reset()\n\n            except KeyboardInterrupt:\n                print(\"\\n\\nInterrupted. Goodbye!\")\n                break\n            except Exception as e:\n                print(f\"\\nError: {e}\\n\")\n\n\nif __name__ == \"__main__\":\n    main()\n","numLines":559,"startLine":1,"totalLines":559}}}
{"parentUuid":"f97097ba-a0bf-443a-a3d4-b9ee423eae6b","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01LhLK87Vwt4LxuivUKRnvfs","type":"tool_result","content":"     1â†’# Open-AutoGLM\n     2â†’\n     3â†’[Readme in English](README_en.md)\n     4â†’\n     5â†’<div align=\"center\">\n     6â†’<img src=resources/logo.svg width=\"20%\"/>\n     7â†’</div>\n     8â†’<p align=\"center\">\n     9â†’    ğŸ‘‹ åŠ å…¥æˆ‘ä»¬çš„ <a href=\"resources/WECHAT.md\" target=\"_blank\">å¾®ä¿¡</a> ç¤¾åŒº\n    10â†’</p>\n    11â†’<p align=\"center\">\n    12â†’    ğŸ¤ è¿›ä¸€æ­¥åœ¨æˆ‘ä»¬çš„äº§å“ <a href=\"https://autoglm.zhipuai.cn/autotyper/\" target=\"_blank\">æ™ºè°± AI è¾“å…¥æ³•</a> ä½“éªŒâ€œç”¨å˜´å‘æŒ‡ä»¤â€\n    13â†’</p>\n    14â†’\n    15â†’## æ‡’äººç‰ˆå¿«é€Ÿå®‰è£…\n    16â†’\n    17â†’ä½ å¯ä»¥ä½¿ç”¨Claude Codeï¼Œé…ç½® [GLM Coding Plan](https://bigmodel.cn/glm-coding) åï¼Œè¾“å…¥ä»¥ä¸‹æç¤ºè¯ï¼Œå¿«é€Ÿéƒ¨ç½²æœ¬é¡¹ç›®ã€‚\n    18â†’\n    19â†’```\n    20â†’è®¿é—®æ–‡æ¡£ï¼Œä¸ºæˆ‘å®‰è£… AutoGLM\n    21â†’https://raw.githubusercontent.com/zai-org/Open-AutoGLM/refs/heads/main/README.md\n    22â†’```\n    23â†’\n    24â†’## é¡¹ç›®ä»‹ç»\n    25â†’\n    26â†’Phone Agent æ˜¯ä¸€ä¸ªåŸºäº AutoGLM æ„å»ºçš„æ‰‹æœºç«¯æ™ºèƒ½åŠ©ç†æ¡†æ¶ï¼Œå®ƒèƒ½å¤Ÿä»¥å¤šæ¨¡æ€æ–¹å¼ç†è§£æ‰‹æœºå±å¹•å†…å®¹ï¼Œå¹¶é€šè¿‡è‡ªåŠ¨åŒ–æ“ä½œå¸®åŠ©ç”¨æˆ·å®Œæˆä»»åŠ¡ã€‚ç³»ç»Ÿé€šè¿‡\n    27â†’ADB(Android Debug Bridge)æ¥æ§åˆ¶è®¾å¤‡ï¼Œä»¥è§†è§‰è¯­è¨€æ¨¡å‹è¿›è¡Œå±å¹•æ„ŸçŸ¥ï¼Œå†ç»“åˆæ™ºèƒ½è§„åˆ’èƒ½åŠ›ç”Ÿæˆå¹¶æ‰§è¡Œæ“ä½œæµç¨‹ã€‚ç”¨æˆ·åªéœ€ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œå¦‚â€œæ‰“å¼€å°çº¢ä¹¦æœç´¢ç¾é£Ÿâ€ï¼ŒPhone\n    28â†’Agent å³å¯è‡ªåŠ¨è§£ææ„å›¾ã€ç†è§£å½“å‰ç•Œé¢ã€è§„åˆ’ä¸‹ä¸€æ­¥åŠ¨ä½œå¹¶å®Œæˆæ•´ä¸ªæµç¨‹ã€‚ç³»ç»Ÿè¿˜å†…ç½®æ•æ„Ÿæ“ä½œç¡®è®¤æœºåˆ¶ï¼Œå¹¶æ”¯æŒåœ¨ç™»å½•æˆ–éªŒè¯ç åœºæ™¯ä¸‹è¿›è¡Œäººå·¥æ¥ç®¡ã€‚åŒæ—¶ï¼Œå®ƒæä¾›è¿œç¨‹\n    29â†’ADB è°ƒè¯•èƒ½åŠ›ï¼Œå¯é€šè¿‡ WiFi æˆ–ç½‘ç»œè¿æ¥è®¾å¤‡ï¼Œå®ç°çµæ´»çš„è¿œç¨‹æ§åˆ¶ä¸å¼€å‘ã€‚\n    30â†’\n    31â†’> âš ï¸\n    32â†’> æœ¬é¡¹ç›®ä»…ä¾›ç ”ç©¶å’Œå­¦ä¹ ä½¿ç”¨ã€‚ä¸¥ç¦ç”¨äºéæ³•è·å–ä¿¡æ¯ã€å¹²æ‰°ç³»ç»Ÿæˆ–ä»»ä½•è¿æ³•æ´»åŠ¨ã€‚è¯·ä»”ç»†å®¡é˜… [ä½¿ç”¨æ¡æ¬¾](resources/privacy_policy.txt)ã€‚\n    33â†’\n    34â†’## æ¨¡å‹ä¸‹è½½åœ°å€\n    35â†’\n    36â†’| Model                         | Download Links                                                                                                                                                         |\n    37â†’|-------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n    38â†’| AutoGLM-Phone-9B              | [ğŸ¤— Hugging Face](https://huggingface.co/zai-org/AutoGLM-Phone-9B)<br>[ğŸ¤– ModelScope](https://modelscope.cn/models/ZhipuAI/AutoGLM-Phone-9B)                           |\n    39â†’| AutoGLM-Phone-9B-Multilingual | [ğŸ¤— Hugging Face](https://huggingface.co/zai-org/AutoGLM-Phone-9B-Multilingual)<br>[ğŸ¤– ModelScope](https://modelscope.cn/models/ZhipuAI/AutoGLM-Phone-9B-Multilingual) |\n    40â†’\n    41â†’å…¶ä¸­ï¼Œ`AutoGLM-Phone-9B` æ˜¯é’ˆå¯¹ä¸­æ–‡æ‰‹æœºåº”ç”¨ä¼˜åŒ–çš„æ¨¡å‹ï¼Œè€Œ `AutoGLM-Phone-9B-Multilingual` æ”¯æŒè‹±è¯­åœºæ™¯ï¼Œé€‚ç”¨äºåŒ…å«è‹±æ–‡ç­‰å…¶ä»–è¯­è¨€å†…å®¹çš„åº”ç”¨ã€‚\n    42â†’\n    43â†’## ç¯å¢ƒå‡†å¤‡\n    44â†’\n    45â†’### 1. Python ç¯å¢ƒ\n    46â†’\n    47â†’å»ºè®®ä½¿ç”¨ Python 3.10 åŠä»¥ä¸Šç‰ˆæœ¬ã€‚\n    48â†’\n    49â†’### 2. ADB (Android Debug Bridge)\n    50â†’\n    51â†’1. ä¸‹è½½å®˜æ–¹ ADB [å®‰è£…åŒ…](https://developer.android.com/tools/releases/platform-tools?hl=zh-cn)ï¼Œå¹¶è§£å‹åˆ°è‡ªå®šä¹‰è·¯å¾„\n    52â†’2. é…ç½®ç¯å¢ƒå˜é‡\n    53â†’\n    54â†’- MacOS é…ç½®æ–¹æ³•ï¼šåœ¨ `Terminal` æˆ–è€…ä»»ä½•å‘½ä»¤è¡Œå·¥å…·é‡Œ\n    55â†’\n    56â†’  ```bash\n    57â†’  # å‡è®¾è§£å‹åçš„ç›®å½•ä¸º ~/Downloads/platform-toolsã€‚å¦‚æœä¸æ˜¯è¯·è‡ªè¡Œè°ƒæ•´å‘½ä»¤ã€‚\n    58â†’  export PATH=${PATH}:~/Downloads/platform-tools\n    59â†’  ```\n    60â†’\n    61â†’- Windows é…ç½®æ–¹æ³•ï¼šå¯å‚è€ƒ [ç¬¬ä¸‰æ–¹æ•™ç¨‹](https://blog.csdn.net/x2584179909/article/details/108319973) è¿›è¡Œé…ç½®ã€‚\n    62â†’\n    63â†’### 3. Android 7.0+ çš„è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ï¼Œå¹¶å¯ç”¨ `å¼€å‘è€…æ¨¡å¼` å’Œ `USB è°ƒè¯•`\n    64â†’\n    65â†’1. å¼€å‘è€…æ¨¡å¼å¯ç”¨ï¼šé€šå¸¸å¯ç”¨æ–¹æ³•æ˜¯ï¼Œæ‰¾åˆ° `è®¾ç½®-å…³äºæ‰‹æœº-ç‰ˆæœ¬å·` ç„¶åè¿ç»­å¿«é€Ÿç‚¹å‡» 10\n    66â†’   æ¬¡å·¦å³ï¼Œç›´åˆ°å¼¹å‡ºå¼¹çª—æ˜¾ç¤ºâ€œå¼€å‘è€…æ¨¡å¼å·²å¯ç”¨â€ã€‚ä¸åŒæ‰‹æœºä¼šæœ‰äº›è®¸å·®åˆ«ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå¯ä»¥ä¸Šç½‘æœç´¢ä¸€ä¸‹æ•™ç¨‹ã€‚\n    67â†’2. USB è°ƒè¯•å¯ç”¨ï¼šå¯ç”¨å¼€å‘è€…æ¨¡å¼ä¹‹åï¼Œä¼šå‡ºç° `è®¾ç½®-å¼€å‘è€…é€‰é¡¹-USB è°ƒè¯•`ï¼Œå‹¾é€‰å¯ç”¨\n    68â†’3. éƒ¨åˆ†æœºå‹åœ¨è®¾ç½®å¼€å‘è€…é€‰é¡¹ä»¥å, å¯èƒ½éœ€è¦é‡å¯è®¾å¤‡æ‰èƒ½ç”Ÿæ•ˆ. å¯ä»¥æµ‹è¯•ä¸€ä¸‹: å°†æ‰‹æœºç”¨USBæ•°æ®çº¿è¿æ¥åˆ°ç”µè„‘å, `adb devices`\n    69â†’   æŸ¥çœ‹æ˜¯å¦æœ‰è®¾å¤‡ä¿¡æ¯, å¦‚æœæ²¡æœ‰è¯´æ˜è¿æ¥å¤±è´¥.\n    70â†’\n    71â†’**è¯·åŠ¡å¿…ä»”ç»†æ£€æŸ¥ç›¸å…³æƒé™**\n    72â†’\n    73â†’![æƒé™](resources/screenshot-20251209-181423.png)\n    74â†’\n    75â†’### 4. å®‰è£… ADB Keyboard(ç”¨äºæ–‡æœ¬è¾“å…¥)\n    76â†’\n    77â†’ä¸‹è½½ [å®‰è£…åŒ…](https://github.com/senzhk/ADBKeyBoard/blob/master/ADBKeyboard.apk) å¹¶åœ¨å¯¹åº”çš„å®‰å“è®¾å¤‡ä¸­è¿›è¡Œå®‰è£…ã€‚\n    78â†’æ³¨æ„ï¼Œå®‰è£…å®Œæˆåè¿˜éœ€è¦åˆ° `è®¾ç½®-è¾“å…¥æ³•` æˆ–è€… `è®¾ç½®-é”®ç›˜åˆ—è¡¨` ä¸­å¯ç”¨ `ADB Keyboard` æ‰èƒ½ç”Ÿæ•ˆ(æˆ–ä½¿ç”¨å‘½ä»¤`adb shell ime enable com.android.adbkeyboard/.AdbIME`[How-to-use](https://github.com/senzhk/ADBKeyBoard/blob/master/README.md#how-to-use))\n    79â†’\n    80â†’## éƒ¨ç½²å‡†å¤‡å·¥ä½œ\n    81â†’\n    82â†’### 1. å®‰è£…ä¾èµ–\n    83â†’\n    84â†’```bash\n    85â†’pip install -r requirements.txt \n    86â†’pip install -e .\n    87â†’```\n    88â†’\n    89â†’### 2. é…ç½® ADB\n    90â†’\n    91â†’ç¡®è®¤ **USBæ•°æ®çº¿å…·æœ‰æ•°æ®ä¼ è¾“åŠŸèƒ½**, è€Œä¸æ˜¯ä»…æœ‰å……ç”µåŠŸèƒ½\n    92â†’\n    93â†’ç¡®ä¿å·²å®‰è£… ADB å¹¶ä½¿ç”¨ **USBæ•°æ®çº¿** è¿æ¥è®¾å¤‡ï¼š\n    94â†’\n    95â†’```bash\n    96â†’# æ£€æŸ¥å·²è¿æ¥çš„è®¾å¤‡\n    97â†’adb devices\n    98â†’\n    99â†’# è¾“å‡ºç»“æœåº”æ˜¾ç¤ºä½ çš„è®¾å¤‡ï¼Œå¦‚ï¼š\n   100â†’# List of devices attached\n   101â†’# emulator-5554   device\n   102â†’```\n   103â†’\n   104â†’### 3. å¯åŠ¨æ¨¡å‹æœåŠ¡\n   105â†’\n   106â†’ä½ å¯ä»¥é€‰æ‹©è‡ªè¡Œéƒ¨ç½²æ¨¡å‹æœåŠ¡ï¼Œæˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å‹æœåŠ¡å•†ã€‚\n   107â†’\n   108â†’#### é€‰é¡¹ A: ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å‹æœåŠ¡\n   109â†’\n   110â†’å¦‚æœä½ ä¸æƒ³è‡ªè¡Œéƒ¨ç½²æ¨¡å‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·²éƒ¨ç½²æˆ‘ä»¬æ¨¡å‹çš„ç¬¬ä¸‰æ–¹æœåŠ¡ï¼š\n   111â†’\n   112â†’**1. æ™ºè°± BigModel**\n   113â†’\n   114â†’- æ–‡æ¡£: https://docs.bigmodel.cn/cn/api/introduction\n   115â†’- `--base-url`: `https://open.bigmodel.cn/api/paas/v4`\n   116â†’- `--model`: `autoglm-phone`\n   117â†’- `--apikey`: åœ¨æ™ºè°±å¹³å°ç”³è¯·ä½ çš„ API Key\n   118â†’\n   119â†’**2. ModelScope(é­”æ­ç¤¾åŒº)**\n   120â†’\n   121â†’- æ–‡æ¡£: https://modelscope.cn/models/ZhipuAI/AutoGLM-Phone-9B\n   122â†’- `--base-url`: `https://api-inference.modelscope.cn/v1`\n   123â†’- `--model`: `ZhipuAI/AutoGLM-Phone-9B`\n   124â†’- `--apikey`: åœ¨ ModelScope å¹³å°ç”³è¯·ä½ çš„ API Key\n   125â†’\n   126â†’ä½¿ç”¨ç¬¬ä¸‰æ–¹æœåŠ¡çš„ç¤ºä¾‹ï¼š\n   127â†’\n   128â†’```bash\n   129â†’# ä½¿ç”¨æ™ºè°± BigModel\n   130â†’python main.py --base-url https://open.bigmodel.cn/api/paas/v4 --model \"autoglm-phone\" --apikey \"your-bigmodel-api-key\" \"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—\"\n   131â†’\n   132â†’# ä½¿ç”¨ ModelScope\n   133â†’python main.py --base-url https://api-inference.modelscope.cn/v1 --model \"ZhipuAI/AutoGLM-Phone-9B\" --apikey \"your-modelscope-api-key\" \"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—\"\n   134â†’```\n   135â†’\n   136â†’#### é€‰é¡¹ B: è‡ªè¡Œéƒ¨ç½²æ¨¡å‹\n   137â†’\n   138â†’å¦‚æœä½ å¸Œæœ›åœ¨æœ¬åœ°æˆ–è‡ªå·±çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½²æ¨¡å‹ï¼š\n   139â†’\n   140â†’1. æŒ‰ç…§ `requirements.txt` ä¸­ `For Model Deployment` ç« èŠ‚è‡ªè¡Œå®‰è£…æ¨ç†å¼•æ“æ¡†æ¶ã€‚\n   141â†’\n   142â†’å¯¹äºSGLangï¼Œ é™¤äº†ä½¿ç”¨pipå®‰è£…ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å®˜æ–¹docker:\n   143â†’>\n   144â†’> ```shell\n   145â†’> docker pull lmsysorg/sglang:v0.5.6.post1\n   146â†’> ```\n   147â†’>\n   148â†’> è¿›å…¥å®¹å™¨ï¼Œæ‰§è¡Œ\n   149â†’>\n   150â†’> ```\n   151â†’> pip install nvidia-cudnn-cu12==9.16.0.29\n   152â†’> ```\n   153â†’\n   154â†’å¯¹äº vLLMï¼Œé™¤äº†ä½¿ç”¨pip å®‰è£…ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å®˜æ–¹docker:\n   155â†’>\n   156â†’> ```shell\n   157â†’> docker pull vllm/vllm-openai:v0.12.0\n   158â†’> ```\n   159â†’>\n   160â†’> è¿›å…¥å®¹å™¨ï¼Œæ‰§è¡Œ\n   161â†’>\n   162â†’> ```\n   163â†’> pip install -U transformers --pre\n   164â†’> ```\n   165â†’\n   166â†’**æ³¨æ„**: ä¸Šè¿°æ­¥éª¤å‡ºç°çš„å…³äº transformers çš„ä¾èµ–å†²çªå¯ä»¥å¿½ç•¥ã€‚\n   167â†’\n   168â†’1. åœ¨å¯¹åº”å®¹å™¨æˆ–è€…å®ä½“æœºä¸­(éå®¹å™¨å®‰è£…)ä¸‹è½½æ¨¡å‹ï¼Œé€šè¿‡ SGlang / vLLM å¯åŠ¨ï¼Œå¾—åˆ° OpenAI æ ¼å¼æœåŠ¡ã€‚è¿™é‡Œæä¾›ä¸€ä¸ª vLLMéƒ¨ç½²æ–¹æ¡ˆï¼Œè¯·ä¸¥æ ¼éµå¾ªæˆ‘ä»¬æä¾›çš„å¯åŠ¨å‚æ•°:\n   169â†’\n   170â†’- vLLM:\n   171â†’\n   172â†’```shell\n   173â†’python3 -m vllm.entrypoints.openai.api_server \\\n   174â†’ --served-model-name autoglm-phone-9b \\\n   175â†’ --allowed-local-media-path /   \\\n   176â†’ --mm-encoder-tp-mode data \\\n   177â†’ --mm_processor_cache_type shm \\\n   178â†’ --mm_processor_kwargs \"{\\\"max_pixels\\\":5000000}\" \\\n   179â†’ --max-model-len 25480  \\\n   180â†’ --chat-template-content-format string \\\n   181â†’ --limit-mm-per-prompt \"{\\\"image\\\":10}\" \\\n   182â†’ --model zai-org/AutoGLM-Phone-9B \\\n   183â†’ --port 8000\n   184â†’```\n   185â†’\n   186â†’- SGLang:\n   187â†’\n   188â†’```shell\n   189â†’python3 -m sglang.launch_server --model-path  zai-org/AutoGLM-Phone-9B \\\n   190â†’        --served-model-name autoglm-phone-9b  \\\n   191â†’        --context-length 25480  \\\n   192â†’        --mm-enable-dp-encoder   \\\n   193â†’        --mm-process-config '{\"image\":{\"max_pixels\":5000000}}'  \\\n   194â†’        --port 8000\n   195â†’```\n   196â†’\n   197â†’- è¯¥æ¨¡å‹ç»“æ„ä¸ `GLM-4.1V-9B-Thinking` ç›¸åŒ, å…³äºæ¨¡å‹éƒ¨ç½²çš„è¯¦ç»†å†…å®¹ï¼Œä½ ä¹Ÿä»¥æŸ¥çœ‹ [GLM-V](https://github.com/zai-org/GLM-V)\n   198â†’  è·å–æ¨¡å‹éƒ¨ç½²å’Œä½¿ç”¨æŒ‡å—ã€‚\n   199â†’\n   200â†’- è¿è¡ŒæˆåŠŸåï¼Œå°†å¯ä»¥é€šè¿‡ `http://localhost:8000/v1` è®¿é—®æ¨¡å‹æœåŠ¡ã€‚ å¦‚æœæ‚¨åœ¨è¿œç¨‹æœåŠ¡å™¨éƒ¨ç½²æ¨¡å‹, ä½¿ç”¨è¯¥æœåŠ¡å™¨çš„IPè®¿é—®æ¨¡å‹.\n   201â†’\n   202â†’### 4. æ£€æŸ¥æ¨¡å‹éƒ¨ç½²\n   203â†’\n   204â†’æ¨¡å‹æœåŠ¡å¯åŠ¨åï¼Œå¯ä»¥ä½¿ç”¨æ£€æŸ¥è„šæœ¬éªŒè¯éƒ¨ç½²æ˜¯å¦æˆåŠŸï¼š\n   205â†’\n   206â†’```bash\n   207â†’python scripts/check_deployment_cn.py --base-url http://ä½ çš„IP:ä½ çš„ç«¯å£/v1 --model æ¨¡å‹åç§°\n   208â†’```\n   209â†’\n   210â†’è„šæœ¬å°†å‘é€æµ‹è¯•è¯·æ±‚å¹¶å±•ç¤ºæ¨¡å‹çš„æ¨ç†ç»“æœï¼Œä½ å¯ä»¥æ ¹æ®è¾“å‡ºåˆ¤æ–­æ¨¡å‹éƒ¨ç½²æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚\n   211â†’\n   212â†’åŸºäºç»™å®šçš„ä»»åŠ¡, é¢„æœŸè¾“å‡ºå¦‚ä¸‹ã€‚**å¦‚æœæ€ç»´é“¾é•¿åº¦å¾ˆçŸ­, æˆ–è€…å‡ºç°äº†ä¹±ç , å¾ˆå¯èƒ½æ˜¯æ¨¡å‹éƒ¨ç½²å¤±è´¥**, è¯·ä»”ç»†æ£€æŸ¥æ–‡æ¡£è¦æ±‚çš„é…ç½®å’Œä¾èµ–ã€‚\n   213â†’\n   214â†’```\n   215â†’<think>ç”¨æˆ·æƒ³è¦æ¯”è¾ƒè¿™ä¸ªæ´—å‘æ°´åœ¨äº¬ä¸œå’Œæ·˜å®ä¸Šçš„ä»·æ ¼ï¼Œç„¶åé€‰æ‹©æœ€ä¾¿å®œçš„å¹³å°ä¸‹å•ã€‚å½“å‰åœ¨å°çº¢ä¹¦appä¸Šï¼Œæ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªå…³äºLUMMI MOODæ´—å‘æ°´çš„å¸–å­ã€‚\n   216â†’\n   217â†’æˆ‘éœ€è¦ï¼š\n   218â†’1. å…ˆå¯åŠ¨äº¬ä¸œappï¼Œæœç´¢è¿™ä¸ªæ´—å‘æ°´\n   219â†’2. æŸ¥çœ‹äº¬ä¸œçš„ä»·æ ¼\n   220â†’3. å†å¯åŠ¨æ·˜å®appï¼Œæœç´¢è¿™ä¸ªæ´—å‘æ°´\n   221â†’4. æŸ¥çœ‹æ·˜å®çš„ä»·æ ¼\n   222â†’5. æ¯”è¾ƒä»·æ ¼åï¼Œé€‰æ‹©æœ€ä¾¿å®œçš„äº¬ä¸œæˆ–æ·˜å®ä¸‹å•\n   223â†’\n   224â†’é¦–å…ˆï¼Œæˆ‘éœ€è¦ä»å½“å‰çš„å°çº¢ä¹¦ç•Œé¢é€€å‡ºï¼Œç„¶åå¯åŠ¨äº¬ä¸œappã€‚</think>\n   225â†’<answer>do(action=\"Launch\", app=\"äº¬ä¸œ\")\n   226â†’```\n   227â†’\n   228â†’**å‚æ•°è¯´æ˜ï¼š**\n   229â†’- `--base-url`: æ¨¡å‹æœåŠ¡åœ°å€(æ ¹æ®å®é™…éƒ¨ç½²åœ°å€ä¿®æ”¹)\n   230â†’- `--model`: æ¨¡å‹åç§°\n   231â†’- `--messages-file`: å¯é€‰ï¼ŒæŒ‡å®šè‡ªå®šä¹‰æµ‹è¯•æ¶ˆæ¯æ–‡ä»¶(é»˜è®¤ä½¿ç”¨ `scripts/sample_messages.json`)\n   232â†’\n   233â†’## ä½¿ç”¨ AutoGLM\n   234â†’\n   235â†’### å‘½ä»¤è¡Œ\n   236â†’\n   237â†’æ ¹æ®ä½ éƒ¨ç½²çš„æ¨¡å‹, è®¾ç½® `--base-url` å’Œ `--model` å‚æ•°. ä¾‹å¦‚:\n   238â†’\n   239â†’```bash\n   240â†’# äº¤äº’æ¨¡å¼\n   241â†’python main.py --base-url http://localhost:8000/v1 --model \"autoglm-phone-9b\"\n   242â†’\n   243â†’# æŒ‡å®šæ¨¡å‹ç«¯ç‚¹\n   244â†’python main.py --base-url http://localhost:8000/v1 \"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—\"\n   245â†’\n   246â†’# ä½¿ç”¨ API Key è¿›è¡Œè®¤è¯\n   247â†’python main.py --apikey sk-xxxxx\n   248â†’\n   249â†’# ä½¿ç”¨è‹±æ–‡ system prompt\n   250â†’python main.py --lang en --base-url http://localhost:8000/v1 \"Open Chrome browser\"\n   251â†’\n   252â†’# åˆ—å‡ºæ”¯æŒçš„åº”ç”¨\n   253â†’python main.py --list-apps\n   254â†’```\n   255â†’\n   256â†’### Python API\n   257â†’\n   258â†’```python\n   259â†’from phone_agent import PhoneAgent\n   260â†’from phone_agent.model import ModelConfig\n   261â†’\n   262â†’# Configure model\n   263â†’model_config = ModelConfig(\n   264â†’    base_url=\"http://localhost:8000/v1\",\n   265â†’    model_name=\"autoglm-phone-9b\",\n   266â†’)\n   267â†’\n   268â†’# åˆ›å»º Agent\n   269â†’agent = PhoneAgent(model_config=model_config)\n   270â†’\n   271â†’# æ‰§è¡Œä»»åŠ¡\n   272â†’result = agent.run(\"æ‰“å¼€æ·˜å®æœç´¢æ— çº¿è€³æœº\")\n   273â†’print(result)\n   274â†’```\n   275â†’\n   276â†’## è¿œç¨‹è°ƒè¯•\n   277â†’\n   278â†’Phone Agent æ”¯æŒé€šè¿‡ WiFi/ç½‘ç»œè¿›è¡Œè¿œç¨‹ ADB è°ƒè¯•ï¼Œæ— éœ€ USB è¿æ¥å³å¯æ§åˆ¶è®¾å¤‡ã€‚\n   279â†’\n   280â†’### é…ç½®è¿œç¨‹è°ƒè¯•\n   281â†’\n   282â†’#### åœ¨æ‰‹æœºç«¯å¼€å¯æ— çº¿è°ƒè¯•\n   283â†’\n   284â†’ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€ä¸ªWiFiä¸­ï¼Œå¦‚å›¾æ‰€ç¤º\n   285â†’\n   286â†’![å¼€å¯æ— çº¿è°ƒè¯•](resources/setting.png)\n   287â†’\n   288â†’#### åœ¨ç”µè„‘ç«¯ä½¿ç”¨æ ‡å‡† ADB å‘½ä»¤\n   289â†’\n   290â†’```bash\n   291â†’\n   292â†’# é€šè¿‡ WiFi è¿æ¥, æ”¹æˆæ‰‹æœºæ˜¾ç¤ºçš„ IP åœ°å€å’Œç«¯å£\n   293â†’adb connect 192.168.1.100:5555\n   294â†’\n   295â†’# éªŒè¯è¿æ¥\n   296â†’adb devices\n   297â†’# åº”æ˜¾ç¤ºï¼š192.168.1.100:5555    device\n   298â†’```\n   299â†’\n   300â†’### è®¾å¤‡ç®¡ç†å‘½ä»¤\n   301â†’\n   302â†’```bash\n   303â†’# åˆ—å‡ºæ‰€æœ‰å·²è¿æ¥è®¾å¤‡\n   304â†’adb devices\n   305â†’\n   306â†’# è¿æ¥è¿œç¨‹è®¾å¤‡\n   307â†’adb connect 192.168.1.100:5555\n   308â†’\n   309â†’# æ–­å¼€æŒ‡å®šè®¾å¤‡\n   310â†’adb disconnect 192.168.1.100:5555\n   311â†’\n   312â†’# æŒ‡å®šè®¾å¤‡æ‰§è¡Œä»»åŠ¡\n   313â†’python main.py --device-id 192.168.1.100:5555 --base-url http://localhost:8000/v1 --model \"autoglm-phone-9b\" \"æ‰“å¼€æŠ–éŸ³åˆ·è§†é¢‘\"\n   314â†’```\n   315â†’\n   316â†’### Python API è¿œç¨‹è¿æ¥\n   317â†’\n   318â†’```python\n   319â†’from phone_agent.adb import ADBConnection, list_devices\n   320â†’\n   321â†’# åˆ›å»ºè¿æ¥ç®¡ç†å™¨\n   322â†’conn = ADBConnection()\n   323â†’\n   324â†’# è¿æ¥è¿œç¨‹è®¾å¤‡\n   325â†’success, message = conn.connect(\"192.168.1.100:5555\")\n   326â†’print(f\"è¿æ¥çŠ¶æ€: {message}\")\n   327â†’\n   328â†’# åˆ—å‡ºå·²è¿æ¥è®¾å¤‡\n   329â†’devices = list_devices()\n   330â†’for device in devices:\n   331â†’    print(f\"{device.device_id} - {device.connection_type.value}\")\n   332â†’\n   333â†’# åœ¨ USB è®¾å¤‡ä¸Šå¯ç”¨ TCP/IP\n   334â†’success, message = conn.enable_tcpip(5555)\n   335â†’ip = conn.get_device_ip()\n   336â†’print(f\"è®¾å¤‡ IP: {ip}\")\n   337â†’\n   338â†’# æ–­å¼€è¿æ¥\n   339â†’conn.disconnect(\"192.168.1.100:5555\")\n   340â†’```\n   341â†’\n   342â†’### è¿œç¨‹è¿æ¥é—®é¢˜æ’æŸ¥\n   343â†’\n   344â†’**è¿æ¥è¢«æ‹’ç»ï¼š**\n   345â†’\n   346â†’- ç¡®ä¿è®¾å¤‡å’Œç”µè„‘åœ¨åŒä¸€ç½‘ç»œ\n   347â†’- æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦é˜»æ­¢ 5555 ç«¯å£\n   348â†’- ç¡®è®¤å·²å¯ç”¨ TCP/IP æ¨¡å¼ï¼š`adb tcpip 5555`\n   349â†’\n   350â†’**è¿æ¥æ–­å¼€ï¼š**\n   351â†’\n   352â†’- WiFi å¯èƒ½æ–­å¼€äº†ï¼Œä½¿ç”¨ `--connect` é‡æ–°è¿æ¥\n   353â†’- éƒ¨åˆ†è®¾å¤‡é‡å¯åä¼šç¦ç”¨ TCP/IPï¼Œéœ€è¦é€šè¿‡ USB é‡æ–°å¯ç”¨\n   354â†’\n   355â†’**å¤šè®¾å¤‡ï¼š**\n   356â†’\n   357â†’- ä½¿ç”¨ `--device-id` æŒ‡å®šè¦ä½¿ç”¨çš„è®¾å¤‡\n   358â†’- æˆ–ä½¿ç”¨ `--list-devices` æŸ¥çœ‹æ‰€æœ‰å·²è¿æ¥è®¾å¤‡\n   359â†’\n   360â†’## é…ç½®\n   361â†’\n   362â†’### è‡ªå®šä¹‰SYSTEM PROMPT\n   363â†’\n   364â†’ç³»ç»Ÿæä¾›ä¸­è‹±æ–‡ä¸¤å¥— promptï¼Œé€šè¿‡ `--lang` å‚æ•°åˆ‡æ¢ï¼š\n   365â†’\n   366â†’- `--lang cn` - ä¸­æ–‡ prompt(é»˜è®¤)ï¼Œé…ç½®æ–‡ä»¶ï¼š`phone_agent/config/prompts_zh.py`\n   367â†’- `--lang en` - è‹±æ–‡ promptï¼Œé…ç½®æ–‡ä»¶ï¼š`phone_agent/config/prompts_en.py`\n   368â†’\n   369â†’å¯ä»¥ç›´æ¥ä¿®æ”¹å¯¹åº”çš„é…ç½®æ–‡ä»¶æ¥å¢å¼ºæ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸçš„èƒ½åŠ›ï¼Œæˆ–é€šè¿‡æ³¨å…¥ app åç§°ç¦ç”¨æŸäº› appã€‚\n   370â†’\n   371â†’### ç¯å¢ƒå˜é‡\n   372â†’\n   373â†’| å˜é‡                      | æè¿°               | é»˜è®¤å€¼                        |\n   374â†’|-------------------------|------------------|----------------------------|\n   375â†’| `PHONE_AGENT_BASE_URL`  | æ¨¡å‹ API åœ°å€        | `http://localhost:8000/v1` |\n   376â†’| `PHONE_AGENT_MODEL`     | æ¨¡å‹åç§°             | `autoglm-phone-9b`         |\n   377â†’| `PHONE_AGENT_API_KEY`   | æ¨¡å‹è®¤è¯ API Key     | `EMPTY`                    |\n   378â†’| `PHONE_AGENT_MAX_STEPS` | æ¯ä¸ªä»»åŠ¡æœ€å¤§æ­¥æ•°         | `100`                      |\n   379â†’| `PHONE_AGENT_DEVICE_ID` | ADB è®¾å¤‡ ID        | (è‡ªåŠ¨æ£€æµ‹)                     |\n   380â†’| `PHONE_AGENT_LANG`      | è¯­è¨€ (`cn` æˆ– `en`) | `cn`                       |\n   381â†’\n   382â†’### æ¨¡å‹é…ç½®\n   383â†’\n   384â†’```python\n   385â†’from phone_agent.model import ModelConfig\n   386â†’\n   387â†’config = ModelConfig(\n   388â†’    base_url=\"http://localhost:8000/v1\",\n   389â†’    api_key=\"EMPTY\",  # API å¯†é’¥(å¦‚éœ€è¦)\n   390â†’    model_name=\"autoglm-phone-9b\",  # æ¨¡å‹åç§°\n   391â†’    max_tokens=3000,  # æœ€å¤§è¾“å‡º token æ•°\n   392â†’    temperature=0.1,  # é‡‡æ ·æ¸©åº¦\n   393â†’    frequency_penalty=0.2,  # é¢‘ç‡æƒ©ç½š\n   394â†’)\n   395â†’```\n   396â†’\n   397â†’### Agent é…ç½®\n   398â†’\n   399â†’```python\n   400â†’from phone_agent.agent import AgentConfig\n   401â†’\n   402â†’config = AgentConfig(\n   403â†’    max_steps=100,  # æ¯ä¸ªä»»åŠ¡æœ€å¤§æ­¥æ•°\n   404â†’    device_id=None,  # ADB è®¾å¤‡ ID(None ä¸ºè‡ªåŠ¨æ£€æµ‹)\n   405â†’    lang=\"cn\",  # è¯­è¨€é€‰æ‹©ï¼šcn(ä¸­æ–‡)æˆ– en(è‹±æ–‡)\n   406â†’    verbose=True,  # æ‰“å°è°ƒè¯•ä¿¡æ¯(åŒ…æ‹¬æ€è€ƒè¿‡ç¨‹å’Œæ‰§è¡ŒåŠ¨ä½œ)\n   407â†’)\n   408â†’```\n   409â†’\n   410â†’### Verbose æ¨¡å¼è¾“å‡º\n   411â†’\n   412â†’å½“ `verbose=True` æ—¶ï¼ŒAgent ä¼šåœ¨æ¯ä¸€æ­¥è¾“å‡ºè¯¦ç»†ä¿¡æ¯ï¼š\n   413â†’\n   414â†’```\n   415â†’==================================================\n   416â†’ğŸ’­ æ€è€ƒè¿‡ç¨‹:\n   417â†’--------------------------------------------------\n   418â†’å½“å‰åœ¨ç³»ç»Ÿæ¡Œé¢ï¼Œéœ€è¦å…ˆå¯åŠ¨å°çº¢ä¹¦åº”ç”¨\n   419â†’--------------------------------------------------\n   420â†’ğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:\n   421â†’{\n   422â†’  \"_metadata\": \"do\",\n   423â†’  \"action\": \"Launch\",\n   424â†’  \"app\": \"å°çº¢ä¹¦\"\n   425â†’}\n   426â†’==================================================\n   427â†’\n   428â†’... (æ‰§è¡ŒåŠ¨ä½œåç»§ç»­ä¸‹ä¸€æ­¥)\n   429â†’\n   430â†’==================================================\n   431â†’ğŸ’­ æ€è€ƒè¿‡ç¨‹:\n   432â†’--------------------------------------------------\n   433â†’å°çº¢ä¹¦å·²æ‰“å¼€ï¼Œç°åœ¨éœ€è¦ç‚¹å‡»æœç´¢æ¡†\n   434â†’--------------------------------------------------\n   435â†’ğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:\n   436â†’{\n   437â†’  \"_metadata\": \"do\",\n   438â†’  \"action\": \"Tap\",\n   439â†’  \"element\": [500, 100]\n   440â†’}\n   441â†’==================================================\n   442â†’\n   443â†’ğŸ‰ ================================================\n   444â†’âœ… ä»»åŠ¡å®Œæˆ: å·²æˆåŠŸæœç´¢ç¾é£Ÿæ”»ç•¥\n   445â†’==================================================\n   446â†’```\n   447â†’\n   448â†’è¿™æ ·å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ° AI çš„æ¨ç†è¿‡ç¨‹å’Œæ¯ä¸€æ­¥çš„å…·ä½“æ“ä½œã€‚\n   449â†’\n   450â†’## æ”¯æŒçš„åº”ç”¨\n   451â†’\n   452â†’Phone Agent æ”¯æŒ 50+ æ¬¾ä¸»æµä¸­æ–‡åº”ç”¨ï¼š\n   453â†’\n   454â†’| åˆ†ç±»   | åº”ç”¨              |\n   455â†’|------|-----------------|\n   456â†’| ç¤¾äº¤é€šè®¯ | å¾®ä¿¡ã€QQã€å¾®åš        |\n   457â†’| ç”µå•†è´­ç‰© | æ·˜å®ã€äº¬ä¸œã€æ‹¼å¤šå¤š       |\n   458â†’| ç¾é£Ÿå¤–å– | ç¾å›¢ã€é¥¿äº†ä¹ˆã€è‚¯å¾·åŸº      |\n   459â†’| å‡ºè¡Œæ—…æ¸¸ | æºç¨‹ã€12306ã€æ»´æ»´å‡ºè¡Œ   |\n   460â†’| è§†é¢‘å¨±ä¹ | bilibiliã€æŠ–éŸ³ã€çˆ±å¥‡è‰º |\n   461â†’| éŸ³ä¹éŸ³é¢‘ | ç½‘æ˜“äº‘éŸ³ä¹ã€QQéŸ³ä¹ã€å–œé©¬æ‹‰é›… |\n   462â†’| ç”Ÿæ´»æœåŠ¡ | å¤§ä¼—ç‚¹è¯„ã€é«˜å¾·åœ°å›¾ã€ç™¾åº¦åœ°å›¾  |\n   463â†’| å†…å®¹ç¤¾åŒº | å°çº¢ä¹¦ã€çŸ¥ä¹ã€è±†ç“£       |\n   464â†’\n   465â†’è¿è¡Œ `python main.py --list-apps` æŸ¥çœ‹å®Œæ•´åˆ—è¡¨ã€‚\n   466â†’\n   467â†’## å¯ç”¨æ“ä½œ\n   468â†’\n   469â†’Agent å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\n   470â†’\n   471â†’| æ“ä½œ           | æè¿°              |\n   472â†’|--------------|-----------------|\n   473â†’| `Launch`     | å¯åŠ¨åº”ç”¨            |  \n   474â†’| `Tap`        | ç‚¹å‡»æŒ‡å®šåæ ‡          |\n   475â†’| `Type`       | è¾“å…¥æ–‡æœ¬            |\n   476â†’| `Swipe`      | æ»‘åŠ¨å±å¹•            |\n   477â†’| `Back`       | è¿”å›ä¸Šä¸€é¡µ           |\n   478â†’| `Home`       | è¿”å›æ¡Œé¢            |\n   479â†’| `Long Press` | é•¿æŒ‰              |\n   480â†’| `Double Tap` | åŒå‡»              |\n   481â†’| `Wait`       | ç­‰å¾…é¡µé¢åŠ è½½          |\n   482â†’| `Take_over`  | è¯·æ±‚äººå·¥æ¥ç®¡(ç™»å½•/éªŒè¯ç ç­‰) |\n   483â†’\n   484â†’## è‡ªå®šä¹‰å›è°ƒ\n   485â†’\n   486â†’å¤„ç†æ•æ„Ÿæ“ä½œç¡®è®¤å’Œäººå·¥æ¥ç®¡ï¼š\n   487â†’\n   488â†’```python\n   489â†’def my_confirmation(message: str) -> bool:\n   490â†’    \"\"\"æ•æ„Ÿæ“ä½œç¡®è®¤å›è°ƒ\"\"\"\n   491â†’    return input(f\"ç¡®è®¤æ‰§è¡Œ {message}ï¼Ÿ(y/n): \").lower() == \"y\"\n   492â†’\n   493â†’\n   494â†’def my_takeover(message: str) -> None:\n   495â†’    \"\"\"äººå·¥æ¥ç®¡å›è°ƒ\"\"\"\n   496â†’    print(f\"è¯·æ‰‹åŠ¨å®Œæˆ: {message}\")\n   497â†’    input(\"å®ŒæˆåæŒ‰å›è½¦ç»§ç»­...\")\n   498â†’\n   499â†’\n   500â†’agent = PhoneAgent(\n   501â†’    confirmation_callback=my_confirmation,\n   502â†’    takeover_callback=my_takeover,\n   503â†’)\n   504â†’```\n   505â†’\n   506â†’## ç¤ºä¾‹\n   507â†’\n   508â†’æŸ¥çœ‹ `examples/` ç›®å½•è·å–æ›´å¤šä½¿ç”¨ç¤ºä¾‹ï¼š\n   509â†’\n   510â†’- `basic_usage.py` - åŸºç¡€ä»»åŠ¡æ‰§è¡Œ\n   511â†’- å•æ­¥è°ƒè¯•æ¨¡å¼\n   512â†’- æ‰¹é‡ä»»åŠ¡æ‰§è¡Œ\n   513â†’- è‡ªå®šä¹‰å›è°ƒ\n   514â†’\n   515â†’## äºŒæ¬¡å¼€å‘\n   516â†’\n   517â†’### é…ç½®å¼€å‘ç¯å¢ƒ\n   518â†’\n   519â†’äºŒæ¬¡å¼€å‘éœ€è¦ä½¿ç”¨å¼€å‘ä¾èµ–ï¼š\n   520â†’\n   521â†’```bash\n   522â†’pip install -e \".[dev]\"\n   523â†’```\n   524â†’\n   525â†’### è¿è¡Œæµ‹è¯•\n   526â†’\n   527â†’```bash\n   528â†’pytest tests/\n   529â†’```\n   530â†’\n   531â†’### å®Œæ•´é¡¹ç›®ç»“æ„\n   532â†’\n   533â†’```\n   534â†’phone_agent/\n   535â†’â”œâ”€â”€ __init__.py          # åŒ…å¯¼å‡º\n   536â†’â”œâ”€â”€ agent.py             # PhoneAgent ä¸»ç±»\n   537â†’â”œâ”€â”€ adb/                 # ADB å·¥å…·\n   538â†’â”‚   â”œâ”€â”€ connection.py    # è¿œç¨‹/æœ¬åœ°è¿æ¥ç®¡ç†\n   539â†’â”‚   â”œâ”€â”€ screenshot.py    # å±å¹•æˆªå›¾\n   540â†’â”‚   â”œâ”€â”€ input.py         # æ–‡æœ¬è¾“å…¥ (ADB Keyboard)\n   541â†’â”‚   â””â”€â”€ device.py        # è®¾å¤‡æ§åˆ¶ (ç‚¹å‡»ã€æ»‘åŠ¨ç­‰)\n   542â†’â”œâ”€â”€ actions/             # æ“ä½œå¤„ç†\n   543â†’â”‚   â””â”€â”€ handler.py       # æ“ä½œæ‰§è¡Œå™¨\n   544â†’â”œâ”€â”€ config/              # é…ç½®\n   545â†’â”‚   â”œâ”€â”€ apps.py          # æ”¯æŒçš„åº”ç”¨æ˜ å°„\n   546â†’â”‚   â”œâ”€â”€ prompts_zh.py    # ä¸­æ–‡ç³»ç»Ÿæç¤ºè¯\n   547â†’â”‚   â””â”€â”€ prompts_en.py    # è‹±æ–‡ç³»ç»Ÿæç¤ºè¯\n   548â†’â””â”€â”€ model/               # AI æ¨¡å‹å®¢æˆ·ç«¯\n   549â†’    â””â”€â”€ client.py        # OpenAI å…¼å®¹å®¢æˆ·ç«¯\n   550â†’```\n   551â†’\n   552â†’## å¸¸è§é—®é¢˜\n   553â†’\n   554â†’æˆ‘ä»¬åˆ—ä¸¾äº†ä¸€äº›å¸¸è§çš„é—®é¢˜ï¼Œä»¥åŠå¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼š\n   555â†’\n   556â†’### è®¾å¤‡æœªæ‰¾åˆ°\n   557â†’\n   558â†’å°è¯•é€šè¿‡é‡å¯ ADB æœåŠ¡æ¥è§£å†³ï¼š\n   559â†’\n   560â†’```bash\n   561â†’adb kill-server\n   562â†’adb start-server\n   563â†’adb devices\n   564â†’```\n   565â†’\n   566â†’å¦‚æœä»ç„¶æ— æ³•è¯†åˆ«ï¼Œè¯·æ£€æŸ¥ï¼š\n   567â†’\n   568â†’1. USB è°ƒè¯•æ˜¯å¦å·²å¼€å¯\n   569â†’2. æ•°æ®çº¿æ˜¯å¦æ”¯æŒæ•°æ®ä¼ è¾“(éƒ¨åˆ†æ•°æ®çº¿ä»…æ”¯æŒå……ç”µ)\n   570â†’3. æ‰‹æœºä¸Šå¼¹å‡ºçš„æˆæƒæ¡†æ˜¯å¦å·²ç‚¹å‡»ã€Œå…è®¸ã€\n   571â†’4. å°è¯•æ›´æ¢ USB æ¥å£æˆ–æ•°æ®çº¿\n   572â†’\n   573â†’### èƒ½æ‰“å¼€åº”ç”¨ï¼Œä½†æ— æ³•ç‚¹å‡»\n   574â†’\n   575â†’éƒ¨åˆ†æœºå‹éœ€è¦åŒæ—¶å¼€å¯ä¸¤ä¸ªè°ƒè¯•é€‰é¡¹æ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼š\n   576â†’\n   577â†’- **USB è°ƒè¯•**\n   578â†’- **USB è°ƒè¯•(å®‰å…¨è®¾ç½®)**\n   579â†’\n   580â†’è¯·åœ¨ `è®¾ç½® â†’ å¼€å‘è€…é€‰é¡¹` ä¸­æ£€æŸ¥è¿™ä¸¤ä¸ªé€‰é¡¹æ˜¯å¦éƒ½å·²å¯ç”¨ã€‚\n   581â†’\n   582â†’### æ–‡æœ¬è¾“å…¥ä¸å·¥ä½œ\n   583â†’\n   584â†’1. ç¡®ä¿è®¾å¤‡å·²å®‰è£… ADB Keyboard\n   585â†’2. åœ¨è®¾ç½® > ç³»ç»Ÿ > è¯­è¨€å’Œè¾“å…¥æ³• > è™šæ‹Ÿé”®ç›˜ ä¸­å¯ç”¨\n   586â†’3. Agent ä¼šåœ¨éœ€è¦è¾“å…¥æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ° ADB Keyboard\n   587â†’\n   588â†’### æˆªå›¾å¤±è´¥(é»‘å±)\n   589â†’\n   590â†’è¿™é€šå¸¸æ„å‘³ç€åº”ç”¨æ­£åœ¨æ˜¾ç¤ºæ•æ„Ÿé¡µé¢(æ”¯ä»˜ã€å¯†ç ã€é“¶è¡Œç±»åº”ç”¨)ã€‚Agent ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶è¯·æ±‚äººå·¥æ¥ç®¡ã€‚\n   591â†’\n   592â†’### windows ç¼–ç å¼‚å¸¸é—®é¢˜\n   593â†’\n   594â†’æŠ¥é”™ä¿¡æ¯å½¢å¦‚ `UnicodeEncodeError gbk code`\n   595â†’\n   596â†’è§£å†³åŠæ³•: åœ¨è¿è¡Œä»£ç çš„å‘½ä»¤å‰é¢åŠ ä¸Šç¯å¢ƒå˜é‡: `PYTHONIOENCODING=utf-8`\n   597â†’\n   598â†’### äº¤äº’æ¨¡å¼éTTYç¯å¢ƒæ— æ³•ä½¿ç”¨\n   599â†’\n   600â†’æŠ¥é”™å½¢å¦‚: `EOF when reading a line`\n   601â†’\n   602â†’è§£å†³åŠæ³•: ä½¿ç”¨éäº¤äº’æ¨¡å¼ç›´æ¥æŒ‡å®šä»»åŠ¡, æˆ–è€…åˆ‡æ¢åˆ° TTY æ¨¡å¼çš„ç»ˆç«¯åº”ç”¨.\n   603â†’\n   604â†’### å¼•ç”¨\n   605â†’\n   606â†’å¦‚æœä½ è§‰å¾—æˆ‘ä»¬çš„å·¥ä½œæœ‰å¸®åŠ©ï¼Œè¯·å¼•ç”¨ä»¥ä¸‹è®ºæ–‡ï¼š\n   607â†’\n   608â†’```bibtex\n   609â†’@article{liu2024autoglm,\n   610â†’  title={Autoglm: Autonomous foundation agents for guis},\n   611â†’  author={Liu, Xiao and Qin, Bo and Liang, Dongzhu and Dong, Guang and Lai, Hanyu and Zhang, Hanchen and Zhao, Hanlin and Iong, Iat Long and Sun, Jiadai and Wang, Jiaqi and others},\n   612â†’  journal={arXiv preprint arXiv:2411.00820},\n   613â†’  year={2024}\n   614â†’}\n   615â†’@article{xu2025mobilerl,\n   616â†’  title={MobileRL: Online Agentic Reinforcement Learning for Mobile GUI Agents},\n   617â†’  author={Xu, Yifan and Liu, Xiao and Liu, Xinghan and Fu, Jiaqi and Zhang, Hanchen and Jing, Bohao and Zhang, Shudan and Wang, Yuting and Zhao, Wenyi and Dong, Yuxiao},\n   618â†’  journal={arXiv preprint arXiv:2509.18119},\n   619â†’  year={2025}\n   620â†’}\n   621â†’```\n   622â†’\n   623â†’---\n   624â†’\n   625â†’## è‡ªåŠ¨åŒ–éƒ¨ç½²æŒ‡å—(é¢å‘ AI)\n   626â†’\n   627â†’> **æœ¬ç« èŠ‚ä¸“ä¸º AI åŠ©æ‰‹(å¦‚ Claude Code)è®¾è®¡ï¼Œç”¨äºè‡ªåŠ¨åŒ–éƒ¨ç½² Open-AutoGLMã€‚**\n   628â†’>\n   629â†’> å¦‚æœä½ æ˜¯äººç±»è¯»è€…ï¼Œå¯ä»¥è·³è¿‡æœ¬ç« èŠ‚ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ–‡æ¡£æ“ä½œå³å¯ã€‚\n   630â†’\n   631â†’---\n   632â†’\n   633â†’### é¡¹ç›®æ¦‚è¿°\n   634â†’\n   635â†’Open-AutoGLM æ˜¯ä¸€ä¸ªæ‰‹æœº Agent æ¡†æ¶ï¼š\n   636â†’- **è¾“å…¥**ï¼šç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤(å¦‚\"æ‰“å¼€å¾®ä¿¡å‘æ¶ˆæ¯ç»™å¼ ä¸‰\")\n   637â†’- **è¾“å‡º**ï¼šè‡ªåŠ¨æ“ä½œç”¨æˆ·çš„å®‰å“æ‰‹æœºå®Œæˆä»»åŠ¡\n   638â†’- **åŸç†**ï¼šæˆªå›¾ â†’ è§†è§‰æ¨¡å‹ç†è§£ç•Œé¢ â†’ è¾“å‡ºç‚¹å‡»åæ ‡ â†’ ADB æ‰§è¡Œæ“ä½œ â†’ å¾ªç¯\n   639â†’\n   640â†’æ¶æ„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š\n   641â†’1. **Agent ä»£ç **(æœ¬ä»“åº“)ï¼šè¿è¡Œåœ¨ç”¨æˆ·ç”µè„‘ä¸Šï¼Œè´Ÿè´£è°ƒç”¨æ¨¡å‹ã€è§£æåŠ¨ä½œã€æ§åˆ¶æ‰‹æœº\n   642â†’2. **è§†è§‰æ¨¡å‹æœåŠ¡**ï¼šå¯ä»¥æ˜¯è¿œç¨‹ APIï¼Œä¹Ÿå¯ä»¥æœ¬åœ°éƒ¨ç½²\n   643â†’\n   644â†’---\n   645â†’\n   646â†’### éƒ¨ç½²å‰ç½®æ£€æŸ¥\n   647â†’\n   648â†’åœ¨å¼€å§‹éƒ¨ç½²å‰ï¼Œè¯·é€é¡¹å‘ç”¨æˆ·ç¡®è®¤ä»¥ä¸‹å†…å®¹ï¼š\n   649â†’\n   650â†’#### ç¡¬ä»¶ç¯å¢ƒ\n   651â†’- [ ] ç”¨æˆ·æœ‰ä¸€å°å®‰å“æ‰‹æœº(Android 7.0+)\n   652â†’- [ ] ç”¨æˆ·æœ‰ä¸€æ ¹æ”¯æŒæ•°æ®ä¼ è¾“çš„ USB æ•°æ®çº¿(ä¸æ˜¯ä»…å……ç”µçº¿)\n   653â†’- [ ] æ‰‹æœºå’Œç”µè„‘å¯ä»¥é€šè¿‡æ•°æ®çº¿è¿æ¥\n   654â†’\n   655â†’#### æ‰‹æœºç«¯é…ç½®\n   656â†’- [ ] æ‰‹æœºå·²å¼€å¯ã€Œå¼€å‘è€…æ¨¡å¼ã€(è®¾ç½® â†’ å…³äºæ‰‹æœº â†’ è¿ç»­ç‚¹å‡»ç‰ˆæœ¬å· 7 æ¬¡)\n   657â†’- [ ] æ‰‹æœºå·²å¼€å¯ã€ŒUSB è°ƒè¯•ã€(è®¾ç½® â†’ å¼€å‘è€…é€‰é¡¹ â†’ USB è°ƒè¯•)\n   658â†’- [ ] éƒ¨åˆ†æœºå‹éœ€è¦åŒæ—¶å¼€å¯ã€ŒUSB è°ƒè¯•(å®‰å…¨è®¾ç½®)ã€\n   659â†’- [ ] æ‰‹æœºå·²å®‰è£… ADB Keyboard åº”ç”¨(ä¸‹è½½åœ°å€ï¼šhttps://github.com/senzhk/ADBKeyBoard/blob/master/ADBKeyboard.apk)\n   660â†’- [ ] ADB Keyboard å·²åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å¯ç”¨(è®¾ç½® â†’ è¯­è¨€å’Œè¾“å…¥æ³• â†’ å¯ç”¨ ADB Keyboard)\n   661â†’\n   662â†’#### æ¨¡å‹æœåŠ¡ç¡®è®¤(äºŒé€‰ä¸€)\n   663â†’\n   664â†’**è¯·æ˜ç¡®è¯¢é—®ç”¨æˆ·ï¼šä½ æ˜¯å¦å·²æœ‰å¯ç”¨çš„ AutoGLM æ¨¡å‹æœåŠ¡ï¼Ÿ**\n   665â†’\n   666â†’- **é€‰é¡¹ Aï¼šä½¿ç”¨å·²éƒ¨ç½²çš„æ¨¡å‹æœåŠ¡(æ¨è)**\n   667â†’  - ç”¨æˆ·æä¾›æ¨¡å‹æœåŠ¡çš„ URL(å¦‚ `http://xxx.xxx.xxx.xxx:8000/v1`)\n   668â†’  - æ— éœ€æœ¬åœ° GPUï¼Œæ— éœ€ä¸‹è½½æ¨¡å‹\n   669â†’  - ç›´æ¥ä½¿ç”¨è¯¥ URL ä½œä¸º `--base-url` å‚æ•°\n   670â†’\n   671â†’- **é€‰é¡¹ Bï¼šæœ¬åœ°éƒ¨ç½²æ¨¡å‹(é«˜é…ç½®è¦æ±‚)**\n   672â†’  - éœ€è¦ NVIDIA GPU(å»ºè®® 24GB+ æ˜¾å­˜)\n   673â†’  - éœ€è¦å®‰è£… vLLM æˆ– SGLang\n   674â†’  - éœ€è¦ä¸‹è½½çº¦ 20GB çš„æ¨¡å‹æ–‡ä»¶\n   675â†’  - **å¦‚æœç”¨æˆ·æ˜¯æ–°æ‰‹æˆ–ä¸ç¡®å®šï¼Œå¼ºçƒˆå»ºè®®é€‰æ‹©é€‰é¡¹ A**\n   676â†’\n   677â†’---\n   678â†’\n   679â†’### éƒ¨ç½²æµç¨‹\n   680â†’\n   681â†’#### é˜¶æ®µä¸€ï¼šç¯å¢ƒå‡†å¤‡\n   682â†’\n   683â†’```bash\n   684â†’# 1. å®‰è£… ADB å·¥å…·\n   685â†’# MacOS:\n   686â†’brew install android-platform-tools\n   687â†’# æˆ–æ‰‹åŠ¨ä¸‹è½½ï¼šhttps://developer.android.com/tools/releases/platform-tools\n   688â†’\n   689â†’# Windows: ä¸‹è½½åè§£å‹ï¼Œæ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡\n   690â†’\n   691â†’# 2. éªŒè¯ ADB å®‰è£…\n   692â†’adb version\n   693â†’# åº”è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯\n   694â†’\n   695â†’# 3. è¿æ¥æ‰‹æœºå¹¶éªŒè¯\n   696â†’# ç”¨æ•°æ®çº¿è¿æ¥æ‰‹æœºï¼Œæ‰‹æœºä¸Šç‚¹å‡»ã€Œå…è®¸ USB è°ƒè¯•ã€\n   697â†’adb devices\n   698â†’# åº”è¾“å‡ºè®¾å¤‡åˆ—è¡¨ï¼Œå¦‚ï¼š\n   699â†’# List of devices attached\n   700â†’# XXXXXXXX    device\n   701â†’```\n   702â†’\n   703â†’**å¦‚æœ `adb devices` æ˜¾ç¤ºç©ºåˆ—è¡¨æˆ– unauthorizedï¼š**\n   704â†’1. æ£€æŸ¥æ‰‹æœºä¸Šæ˜¯å¦å¼¹å‡ºæˆæƒæ¡†ï¼Œç‚¹å‡»ã€Œå…è®¸ã€\n   705â†’2. æ£€æŸ¥ USB è°ƒè¯•æ˜¯å¦å¼€å¯\n   706â†’3. å°è¯•æ›´æ¢æ•°æ®çº¿æˆ– USB æ¥å£\n   707â†’4. æ‰§è¡Œ `adb kill-server && adb start-server` åé‡è¯•\n   708â†’\n   709â†’#### é˜¶æ®µäºŒï¼šå®‰è£… Agent\n   710â†’\n   711â†’```bash\n   712â†’# 1. å…‹éš†ä»“åº“(å¦‚æœè¿˜æ²¡æœ‰å…‹éš†)\n   713â†’git clone https://github.com/zai-org/Open-AutoGLM.git\n   714â†’cd Open-AutoGLM\n   715â†’\n   716â†’# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ(æ¨è)\n   717â†’python -m venv venv\n   718â†’source venv/bin/activate  # Windows: venv\\Scripts\\activate\n   719â†’\n   720â†’# 3. å®‰è£…ä¾èµ–\n   721â†’pip install -r requirements.txt\n   722â†’pip install -e .\n   723â†’```\n   724â†’\n   725â†’**æ³¨æ„ï¼šä¸éœ€è¦ clone æ¨¡å‹ä»“åº“ï¼Œæ¨¡å‹é€šè¿‡ API è°ƒç”¨ã€‚**\n   726â†’\n   727â†’#### é˜¶æ®µä¸‰ï¼šé…ç½®æ¨¡å‹æœåŠ¡\n   728â†’\n   729â†’**å¦‚æœç”¨æˆ·é€‰æ‹©é€‰é¡¹ A(ä½¿ç”¨å·²éƒ¨ç½²çš„æ¨¡å‹)ï¼š**\n   730â†’\n   731â†’ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç¬¬ä¸‰æ–¹æ¨¡å‹æœåŠ¡ï¼š\n   732â†’\n   733â†’1. **æ™ºè°± BigModel**\n   734â†’   - æ–‡æ¡£ï¼šhttps://docs.bigmodel.cn/cn/api/introduction\n   735â†’   - `--base-url`ï¼š`https://open.bigmodel.cn/api/paas/v4`\n   736â†’   - `--model`ï¼š`autoglm-phone`\n   737â†’   - `--apikey`ï¼šåœ¨æ™ºè°±å¹³å°ç”³è¯·ä½ çš„ API Key\n   738â†’\n   739â†’2. **ModelScope(é­”æ­ç¤¾åŒº)**\n   740â†’   - æ–‡æ¡£ï¼šhttps://modelscope.cn/models/ZhipuAI/AutoGLM-Phone-9B\n   741â†’   - `--base-url`ï¼š`https://api-inference.modelscope.cn/v1`\n   742â†’   - `--model`ï¼š`ZhipuAI/AutoGLM-Phone-9B`\n   743â†’   - `--apikey`ï¼šåœ¨ ModelScope å¹³å°ç”³è¯·ä½ çš„ API Key\n   744â†’\n   745â†’ä½¿ç”¨ç¤ºä¾‹ï¼š\n   746â†’\n   747â†’```bash\n   748â†’# ä½¿ç”¨æ™ºè°± BigModel\n   749â†’python main.py --base-url https://open.bigmodel.cn/api/paas/v4 --model \"autoglm-phone\" --apikey \"your-bigmodel-api-key\" \"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—\"\n   750â†’\n   751â†’# ä½¿ç”¨ ModelScope\n   752â†’python main.py --base-url https://api-inference.modelscope.cn/v1 --model \"ZhipuAI/AutoGLM-Phone-9B\" --apikey \"your-modelscope-api-key\" \"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—\"\n   753â†’```\n   754â†’\n   755â†’æˆ–è€…ç›´æ¥ä½¿ç”¨ç”¨æˆ·æä¾›çš„å…¶ä»–æ¨¡å‹æœåŠ¡ URLï¼Œè·³è¿‡æœ¬åœ°æ¨¡å‹éƒ¨ç½²æ­¥éª¤ã€‚\n   756â†’\n   757â†’**å¦‚æœç”¨æˆ·é€‰æ‹©é€‰é¡¹ B(æœ¬åœ°éƒ¨ç½²æ¨¡å‹)ï¼š**\n   758â†’\n   759â†’```bash\n   760â†’# 1. å®‰è£… vLLM\n   761â†’pip install vllm\n   762â†’\n   763â†’# 2. å¯åŠ¨æ¨¡å‹æœåŠ¡(ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹ï¼Œçº¦ 20GB)\n   764â†’python3 -m vllm.entrypoints.openai.api_server \\\n   765â†’  --served-model-name autoglm-phone-9b \\\n   766â†’  --allowed-local-media-path / \\\n   767â†’  --mm-encoder-tp-mode data \\\n   768â†’  --mm_processor_cache_type shm \\\n   769â†’  --mm_processor_kwargs \"{\\\"max_pixels\\\":5000000}\" \\\n   770â†’  --max-model-len 25480 \\\n   771â†’  --chat-template-content-format string \\\n   772â†’  --limit-mm-per-prompt \"{\\\"image\\\":10}\" \\\n   773â†’  --model zai-org/AutoGLM-Phone-9B \\\n   774â†’  --port 8000\n   775â†’\n   776â†’# æ¨¡å‹æœåŠ¡ URL ä¸ºï¼šhttp://localhost:8000/v1\n   777â†’```\n   778â†’\n   779â†’#### é˜¶æ®µå››ï¼šéªŒè¯éƒ¨ç½²\n   780â†’\n   781â†’```bash\n   782â†’# åœ¨ Open-AutoGLM ç›®å½•ä¸‹æ‰§è¡Œ\n   783â†’# å°† {MODEL_URL} æ›¿æ¢ä¸ºå®é™…çš„æ¨¡å‹æœåŠ¡åœ°å€\n   784â†’\n   785â†’python main.py --base-url {MODEL_URL} --model \"autoglm-phone-9b\" \"æ‰“å¼€å¾®ä¿¡ï¼Œå¯¹æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹å‘é€æ¶ˆæ¯ï¼šéƒ¨ç½²æˆåŠŸ\"\n   786â†’```\n   787â†’\n   788â†’**é¢„æœŸç»“æœï¼š**\n   789â†’- æ‰‹æœºè‡ªåŠ¨æ‰“å¼€å¾®ä¿¡\n   790â†’- è‡ªåŠ¨æœç´¢ã€Œæ–‡ä»¶ä¼ è¾“åŠ©æ‰‹ã€\n   791â†’- è‡ªåŠ¨å‘é€æ¶ˆæ¯ã€Œéƒ¨ç½²æˆåŠŸã€\n   792â†’\n   793â†’---\n   794â†’\n   795â†’### å¼‚å¸¸å¤„ç†\n   796â†’\n   797â†’| é”™è¯¯ç°è±¡ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |\n   798â†’|---------|---------|---------|\n   799â†’| `adb devices` æ— è¾“å‡º | USB è°ƒè¯•æœªå¼€å¯æˆ–æ•°æ®çº¿é—®é¢˜ | æ£€æŸ¥å¼€å‘è€…é€‰é¡¹ï¼Œæ›´æ¢æ•°æ®çº¿ |\n   800â†’| `adb devices` æ˜¾ç¤º unauthorized | æ‰‹æœºæœªæˆæƒ | æ‰‹æœºä¸Šç‚¹å‡»ã€Œå…è®¸ USB è°ƒè¯•ã€|\n   801â†’| èƒ½æ‰“å¼€åº”ç”¨ä½†æ— æ³•ç‚¹å‡» | ç¼ºå°‘å®‰å…¨è°ƒè¯•æƒé™ | å¼€å¯ã€ŒUSB è°ƒè¯•(å®‰å…¨è®¾ç½®)ã€|\n   802â†’| ä¸­æ–‡è¾“å…¥å˜æˆä¹±ç æˆ–æ— è¾“å…¥ | ADB Keyboard æœªå¯ç”¨ | åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å¯ç”¨ ADB Keyboard |\n   803â†’| æˆªå›¾è¿”å›é»‘å± | æ•æ„Ÿé¡µé¢(æ”¯ä»˜/é“¶è¡Œ) | æ­£å¸¸ç°è±¡ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç† |\n   804â†’| è¿æ¥æ¨¡å‹æœåŠ¡å¤±è´¥ | URL é”™è¯¯æˆ–æœåŠ¡æœªå¯åŠ¨ | æ£€æŸ¥ URLï¼Œç¡®è®¤æœåŠ¡æ­£åœ¨è¿è¡Œ |\n   805â†’| `ModuleNotFoundError` | ä¾èµ–æœªå®‰è£… | æ‰§è¡Œ `pip install -r requirements.txt` |\n   806â†’\n   807â†’---\n   808â†’\n   809â†’### éƒ¨ç½²è¦ç‚¹\n   810â†’\n   811â†’1. **ä¼˜å…ˆç¡®è®¤æ‰‹æœºè¿æ¥**ï¼šåœ¨å®‰è£…ä»»ä½•ä»£ç ä¹‹å‰ï¼Œå…ˆç¡®ä¿ `adb devices` èƒ½çœ‹åˆ°è®¾å¤‡\n   812â†’2. **ä¸è¦è·³è¿‡ ADB Keyboard**ï¼šæ²¡æœ‰å®ƒï¼Œä¸­æ–‡è¾“å…¥ä¼šå¤±è´¥\n   813â†’3. **æ¨¡å‹æœåŠ¡æ˜¯å¤–éƒ¨ä¾èµ–**ï¼šAgent ä»£ç æœ¬èº«ä¸åŒ…å«æ¨¡å‹ï¼Œéœ€è¦å•ç‹¬çš„æ¨¡å‹æœåŠ¡\n   814â†’4. **é‡åˆ°æƒé™é—®é¢˜å…ˆæ£€æŸ¥æ‰‹æœºè®¾ç½®**ï¼šå¤§éƒ¨åˆ†é—®é¢˜éƒ½æ˜¯æ‰‹æœºç«¯é…ç½®ä¸å®Œæ•´\n   815â†’5. **éƒ¨ç½²å®Œæˆåç”¨ç®€å•ä»»åŠ¡æµ‹è¯•**ï¼šå»ºè®®ç”¨ã€Œæ‰“å¼€å¾®ä¿¡å‘æ¶ˆæ¯ç»™æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹ã€ä½œä¸ºéªŒæ”¶æ ‡å‡†\n   816â†’\n   817â†’---\n   818â†’\n   819â†’### å‘½ä»¤é€ŸæŸ¥\n   820â†’\n   821â†’```bash\n   822â†’# æ£€æŸ¥ ADB è¿æ¥\n   823â†’adb devices\n   824â†’\n   825â†’# é‡å¯ ADB æœåŠ¡\n   826â†’adb kill-server && adb start-server\n   827â†’\n   828â†’# å®‰è£…ä¾èµ–\n   829â†’pip install -r requirements.txt && pip install -e .\n   830â†’\n   831â†’# è¿è¡Œ Agent(äº¤äº’æ¨¡å¼)\n   832â†’python main.py --base-url {MODEL_URL} --model \"autoglm-phone-9b\"\n   833â†’\n   834â†’# è¿è¡Œ Agent(å•æ¬¡ä»»åŠ¡)\n   835â†’python main.py --base-url {MODEL_URL} --model \"autoglm-phone-9b\" \"ä½ çš„ä»»åŠ¡æè¿°\"\n   836â†’\n   837â†’# æŸ¥çœ‹æ”¯æŒçš„åº”ç”¨åˆ—è¡¨\n   838â†’python main.py --list-apps\n   839â†’```\n   840â†’\n   841â†’---\n   842â†’\n   843â†’**éƒ¨ç½²å®Œæˆçš„æ ‡å¿—ï¼šæ‰‹æœºèƒ½è‡ªåŠ¨æ‰§è¡Œç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€‚**\n   844â†’\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"09425b33-d16e-4670-953b-75cfd257e290","timestamp":"2025-12-16T06:10:24.643Z","toolUseResult":{"type":"text","file":{"filePath":"D:\\Adb\\Open-AutoGLM\\README.md","content":"# Open-AutoGLM\n\n[Readme in English](README_en.md)\n\n<div align=\"center\">\n<img src=resources/logo.svg width=\"20%\"/>\n</div>\n<p align=\"center\">\n    ğŸ‘‹ åŠ å…¥æˆ‘ä»¬çš„ <a href=\"resources/WECHAT.md\" target=\"_blank\">å¾®ä¿¡</a> ç¤¾åŒº\n</p>\n<p align=\"center\">\n    ğŸ¤ è¿›ä¸€æ­¥åœ¨æˆ‘ä»¬çš„äº§å“ <a href=\"https://autoglm.zhipuai.cn/autotyper/\" target=\"_blank\">æ™ºè°± AI è¾“å…¥æ³•</a> ä½“éªŒâ€œç”¨å˜´å‘æŒ‡ä»¤â€\n</p>\n\n## æ‡’äººç‰ˆå¿«é€Ÿå®‰è£…\n\nä½ å¯ä»¥ä½¿ç”¨Claude Codeï¼Œé…ç½® [GLM Coding Plan](https://bigmodel.cn/glm-coding) åï¼Œè¾“å…¥ä»¥ä¸‹æç¤ºè¯ï¼Œå¿«é€Ÿéƒ¨ç½²æœ¬é¡¹ç›®ã€‚\n\n```\nè®¿é—®æ–‡æ¡£ï¼Œä¸ºæˆ‘å®‰è£… AutoGLM\nhttps://raw.githubusercontent.com/zai-org/Open-AutoGLM/refs/heads/main/README.md\n```\n\n## é¡¹ç›®ä»‹ç»\n\nPhone Agent æ˜¯ä¸€ä¸ªåŸºäº AutoGLM æ„å»ºçš„æ‰‹æœºç«¯æ™ºèƒ½åŠ©ç†æ¡†æ¶ï¼Œå®ƒèƒ½å¤Ÿä»¥å¤šæ¨¡æ€æ–¹å¼ç†è§£æ‰‹æœºå±å¹•å†…å®¹ï¼Œå¹¶é€šè¿‡è‡ªåŠ¨åŒ–æ“ä½œå¸®åŠ©ç”¨æˆ·å®Œæˆä»»åŠ¡ã€‚ç³»ç»Ÿé€šè¿‡\nADB(Android Debug Bridge)æ¥æ§åˆ¶è®¾å¤‡ï¼Œä»¥è§†è§‰è¯­è¨€æ¨¡å‹è¿›è¡Œå±å¹•æ„ŸçŸ¥ï¼Œå†ç»“åˆæ™ºèƒ½è§„åˆ’èƒ½åŠ›ç”Ÿæˆå¹¶æ‰§è¡Œæ“ä½œæµç¨‹ã€‚ç”¨æˆ·åªéœ€ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œå¦‚â€œæ‰“å¼€å°çº¢ä¹¦æœç´¢ç¾é£Ÿâ€ï¼ŒPhone\nAgent å³å¯è‡ªåŠ¨è§£ææ„å›¾ã€ç†è§£å½“å‰ç•Œé¢ã€è§„åˆ’ä¸‹ä¸€æ­¥åŠ¨ä½œå¹¶å®Œæˆæ•´ä¸ªæµç¨‹ã€‚ç³»ç»Ÿè¿˜å†…ç½®æ•æ„Ÿæ“ä½œç¡®è®¤æœºåˆ¶ï¼Œå¹¶æ”¯æŒåœ¨ç™»å½•æˆ–éªŒè¯ç åœºæ™¯ä¸‹è¿›è¡Œäººå·¥æ¥ç®¡ã€‚åŒæ—¶ï¼Œå®ƒæä¾›è¿œç¨‹\nADB è°ƒè¯•èƒ½åŠ›ï¼Œå¯é€šè¿‡ WiFi æˆ–ç½‘ç»œè¿æ¥è®¾å¤‡ï¼Œå®ç°çµæ´»çš„è¿œç¨‹æ§åˆ¶ä¸å¼€å‘ã€‚\n\n> âš ï¸\n> æœ¬é¡¹ç›®ä»…ä¾›ç ”ç©¶å’Œå­¦ä¹ ä½¿ç”¨ã€‚ä¸¥ç¦ç”¨äºéæ³•è·å–ä¿¡æ¯ã€å¹²æ‰°ç³»ç»Ÿæˆ–ä»»ä½•è¿æ³•æ´»åŠ¨ã€‚è¯·ä»”ç»†å®¡é˜… [ä½¿ç”¨æ¡æ¬¾](resources/privacy_policy.txt)ã€‚\n\n## æ¨¡å‹ä¸‹è½½åœ°å€\n\n| Model                         | Download Links                                                                                                                                                         |\n|-------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| AutoGLM-Phone-9B              | [ğŸ¤— Hugging Face](https://huggingface.co/zai-org/AutoGLM-Phone-9B)<br>[ğŸ¤– ModelScope](https://modelscope.cn/models/ZhipuAI/AutoGLM-Phone-9B)                           |\n| AutoGLM-Phone-9B-Multilingual | [ğŸ¤— Hugging Face](https://huggingface.co/zai-org/AutoGLM-Phone-9B-Multilingual)<br>[ğŸ¤– ModelScope](https://modelscope.cn/models/ZhipuAI/AutoGLM-Phone-9B-Multilingual) |\n\nå…¶ä¸­ï¼Œ`AutoGLM-Phone-9B` æ˜¯é’ˆå¯¹ä¸­æ–‡æ‰‹æœºåº”ç”¨ä¼˜åŒ–çš„æ¨¡å‹ï¼Œè€Œ `AutoGLM-Phone-9B-Multilingual` æ”¯æŒè‹±è¯­åœºæ™¯ï¼Œé€‚ç”¨äºåŒ…å«è‹±æ–‡ç­‰å…¶ä»–è¯­è¨€å†…å®¹çš„åº”ç”¨ã€‚\n\n## ç¯å¢ƒå‡†å¤‡\n\n### 1. Python ç¯å¢ƒ\n\nå»ºè®®ä½¿ç”¨ Python 3.10 åŠä»¥ä¸Šç‰ˆæœ¬ã€‚\n\n### 2. ADB (Android Debug Bridge)\n\n1. ä¸‹è½½å®˜æ–¹ ADB [å®‰è£…åŒ…](https://developer.android.com/tools/releases/platform-tools?hl=zh-cn)ï¼Œå¹¶è§£å‹åˆ°è‡ªå®šä¹‰è·¯å¾„\n2. é…ç½®ç¯å¢ƒå˜é‡\n\n- MacOS é…ç½®æ–¹æ³•ï¼šåœ¨ `Terminal` æˆ–è€…ä»»ä½•å‘½ä»¤è¡Œå·¥å…·é‡Œ\n\n  ```bash\n  # å‡è®¾è§£å‹åçš„ç›®å½•ä¸º ~/Downloads/platform-toolsã€‚å¦‚æœä¸æ˜¯è¯·è‡ªè¡Œè°ƒæ•´å‘½ä»¤ã€‚\n  export PATH=${PATH}:~/Downloads/platform-tools\n  ```\n\n- Windows é…ç½®æ–¹æ³•ï¼šå¯å‚è€ƒ [ç¬¬ä¸‰æ–¹æ•™ç¨‹](https://blog.csdn.net/x2584179909/article/details/108319973) è¿›è¡Œé…ç½®ã€‚\n\n### 3. Android 7.0+ çš„è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ï¼Œå¹¶å¯ç”¨ `å¼€å‘è€…æ¨¡å¼` å’Œ `USB è°ƒè¯•`\n\n1. å¼€å‘è€…æ¨¡å¼å¯ç”¨ï¼šé€šå¸¸å¯ç”¨æ–¹æ³•æ˜¯ï¼Œæ‰¾åˆ° `è®¾ç½®-å…³äºæ‰‹æœº-ç‰ˆæœ¬å·` ç„¶åè¿ç»­å¿«é€Ÿç‚¹å‡» 10\n   æ¬¡å·¦å³ï¼Œç›´åˆ°å¼¹å‡ºå¼¹çª—æ˜¾ç¤ºâ€œå¼€å‘è€…æ¨¡å¼å·²å¯ç”¨â€ã€‚ä¸åŒæ‰‹æœºä¼šæœ‰äº›è®¸å·®åˆ«ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå¯ä»¥ä¸Šç½‘æœç´¢ä¸€ä¸‹æ•™ç¨‹ã€‚\n2. USB è°ƒè¯•å¯ç”¨ï¼šå¯ç”¨å¼€å‘è€…æ¨¡å¼ä¹‹åï¼Œä¼šå‡ºç° `è®¾ç½®-å¼€å‘è€…é€‰é¡¹-USB è°ƒè¯•`ï¼Œå‹¾é€‰å¯ç”¨\n3. éƒ¨åˆ†æœºå‹åœ¨è®¾ç½®å¼€å‘è€…é€‰é¡¹ä»¥å, å¯èƒ½éœ€è¦é‡å¯è®¾å¤‡æ‰èƒ½ç”Ÿæ•ˆ. å¯ä»¥æµ‹è¯•ä¸€ä¸‹: å°†æ‰‹æœºç”¨USBæ•°æ®çº¿è¿æ¥åˆ°ç”µè„‘å, `adb devices`\n   æŸ¥çœ‹æ˜¯å¦æœ‰è®¾å¤‡ä¿¡æ¯, å¦‚æœæ²¡æœ‰è¯´æ˜è¿æ¥å¤±è´¥.\n\n**è¯·åŠ¡å¿…ä»”ç»†æ£€æŸ¥ç›¸å…³æƒé™**\n\n![æƒé™](resources/screenshot-20251209-181423.png)\n\n### 4. å®‰è£… ADB Keyboard(ç”¨äºæ–‡æœ¬è¾“å…¥)\n\nä¸‹è½½ [å®‰è£…åŒ…](https://github.com/senzhk/ADBKeyBoard/blob/master/ADBKeyboard.apk) å¹¶åœ¨å¯¹åº”çš„å®‰å“è®¾å¤‡ä¸­è¿›è¡Œå®‰è£…ã€‚\næ³¨æ„ï¼Œå®‰è£…å®Œæˆåè¿˜éœ€è¦åˆ° `è®¾ç½®-è¾“å…¥æ³•` æˆ–è€… `è®¾ç½®-é”®ç›˜åˆ—è¡¨` ä¸­å¯ç”¨ `ADB Keyboard` æ‰èƒ½ç”Ÿæ•ˆ(æˆ–ä½¿ç”¨å‘½ä»¤`adb shell ime enable com.android.adbkeyboard/.AdbIME`[How-to-use](https://github.com/senzhk/ADBKeyBoard/blob/master/README.md#how-to-use))\n\n## éƒ¨ç½²å‡†å¤‡å·¥ä½œ\n\n### 1. å®‰è£…ä¾èµ–\n\n```bash\npip install -r requirements.txt \npip install -e .\n```\n\n### 2. é…ç½® ADB\n\nç¡®è®¤ **USBæ•°æ®çº¿å…·æœ‰æ•°æ®ä¼ è¾“åŠŸèƒ½**, è€Œä¸æ˜¯ä»…æœ‰å……ç”µåŠŸèƒ½\n\nç¡®ä¿å·²å®‰è£… ADB å¹¶ä½¿ç”¨ **USBæ•°æ®çº¿** è¿æ¥è®¾å¤‡ï¼š\n\n```bash\n# æ£€æŸ¥å·²è¿æ¥çš„è®¾å¤‡\nadb devices\n\n# è¾“å‡ºç»“æœåº”æ˜¾ç¤ºä½ çš„è®¾å¤‡ï¼Œå¦‚ï¼š\n# List of devices attached\n# emulator-5554   device\n```\n\n### 3. å¯åŠ¨æ¨¡å‹æœåŠ¡\n\nä½ å¯ä»¥é€‰æ‹©è‡ªè¡Œéƒ¨ç½²æ¨¡å‹æœåŠ¡ï¼Œæˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å‹æœåŠ¡å•†ã€‚\n\n#### é€‰é¡¹ A: ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å‹æœåŠ¡\n\nå¦‚æœä½ ä¸æƒ³è‡ªè¡Œéƒ¨ç½²æ¨¡å‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·²éƒ¨ç½²æˆ‘ä»¬æ¨¡å‹çš„ç¬¬ä¸‰æ–¹æœåŠ¡ï¼š\n\n**1. æ™ºè°± BigModel**\n\n- æ–‡æ¡£: https://docs.bigmodel.cn/cn/api/introduction\n- `--base-url`: `https://open.bigmodel.cn/api/paas/v4`\n- `--model`: `autoglm-phone`\n- `--apikey`: åœ¨æ™ºè°±å¹³å°ç”³è¯·ä½ çš„ API Key\n\n**2. ModelScope(é­”æ­ç¤¾åŒº)**\n\n- æ–‡æ¡£: https://modelscope.cn/models/ZhipuAI/AutoGLM-Phone-9B\n- `--base-url`: `https://api-inference.modelscope.cn/v1`\n- `--model`: `ZhipuAI/AutoGLM-Phone-9B`\n- `--apikey`: åœ¨ ModelScope å¹³å°ç”³è¯·ä½ çš„ API Key\n\nä½¿ç”¨ç¬¬ä¸‰æ–¹æœåŠ¡çš„ç¤ºä¾‹ï¼š\n\n```bash\n# ä½¿ç”¨æ™ºè°± BigModel\npython main.py --base-url https://open.bigmodel.cn/api/paas/v4 --model \"autoglm-phone\" --apikey \"your-bigmodel-api-key\" \"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—\"\n\n# ä½¿ç”¨ ModelScope\npython main.py --base-url https://api-inference.modelscope.cn/v1 --model \"ZhipuAI/AutoGLM-Phone-9B\" --apikey \"your-modelscope-api-key\" \"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—\"\n```\n\n#### é€‰é¡¹ B: è‡ªè¡Œéƒ¨ç½²æ¨¡å‹\n\nå¦‚æœä½ å¸Œæœ›åœ¨æœ¬åœ°æˆ–è‡ªå·±çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½²æ¨¡å‹ï¼š\n\n1. æŒ‰ç…§ `requirements.txt` ä¸­ `For Model Deployment` ç« èŠ‚è‡ªè¡Œå®‰è£…æ¨ç†å¼•æ“æ¡†æ¶ã€‚\n\nå¯¹äºSGLangï¼Œ é™¤äº†ä½¿ç”¨pipå®‰è£…ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å®˜æ–¹docker:\n>\n> ```shell\n> docker pull lmsysorg/sglang:v0.5.6.post1\n> ```\n>\n> è¿›å…¥å®¹å™¨ï¼Œæ‰§è¡Œ\n>\n> ```\n> pip install nvidia-cudnn-cu12==9.16.0.29\n> ```\n\nå¯¹äº vLLMï¼Œé™¤äº†ä½¿ç”¨pip å®‰è£…ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å®˜æ–¹docker:\n>\n> ```shell\n> docker pull vllm/vllm-openai:v0.12.0\n> ```\n>\n> è¿›å…¥å®¹å™¨ï¼Œæ‰§è¡Œ\n>\n> ```\n> pip install -U transformers --pre\n> ```\n\n**æ³¨æ„**: ä¸Šè¿°æ­¥éª¤å‡ºç°çš„å…³äº transformers çš„ä¾èµ–å†²çªå¯ä»¥å¿½ç•¥ã€‚\n\n1. åœ¨å¯¹åº”å®¹å™¨æˆ–è€…å®ä½“æœºä¸­(éå®¹å™¨å®‰è£…)ä¸‹è½½æ¨¡å‹ï¼Œé€šè¿‡ SGlang / vLLM å¯åŠ¨ï¼Œå¾—åˆ° OpenAI æ ¼å¼æœåŠ¡ã€‚è¿™é‡Œæä¾›ä¸€ä¸ª vLLMéƒ¨ç½²æ–¹æ¡ˆï¼Œè¯·ä¸¥æ ¼éµå¾ªæˆ‘ä»¬æä¾›çš„å¯åŠ¨å‚æ•°:\n\n- vLLM:\n\n```shell\npython3 -m vllm.entrypoints.openai.api_server \\\n --served-model-name autoglm-phone-9b \\\n --allowed-local-media-path /   \\\n --mm-encoder-tp-mode data \\\n --mm_processor_cache_type shm \\\n --mm_processor_kwargs \"{\\\"max_pixels\\\":5000000}\" \\\n --max-model-len 25480  \\\n --chat-template-content-format string \\\n --limit-mm-per-prompt \"{\\\"image\\\":10}\" \\\n --model zai-org/AutoGLM-Phone-9B \\\n --port 8000\n```\n\n- SGLang:\n\n```shell\npython3 -m sglang.launch_server --model-path  zai-org/AutoGLM-Phone-9B \\\n        --served-model-name autoglm-phone-9b  \\\n        --context-length 25480  \\\n        --mm-enable-dp-encoder   \\\n        --mm-process-config '{\"image\":{\"max_pixels\":5000000}}'  \\\n        --port 8000\n```\n\n- è¯¥æ¨¡å‹ç»“æ„ä¸ `GLM-4.1V-9B-Thinking` ç›¸åŒ, å…³äºæ¨¡å‹éƒ¨ç½²çš„è¯¦ç»†å†…å®¹ï¼Œä½ ä¹Ÿä»¥æŸ¥çœ‹ [GLM-V](https://github.com/zai-org/GLM-V)\n  è·å–æ¨¡å‹éƒ¨ç½²å’Œä½¿ç”¨æŒ‡å—ã€‚\n\n- è¿è¡ŒæˆåŠŸåï¼Œå°†å¯ä»¥é€šè¿‡ `http://localhost:8000/v1` è®¿é—®æ¨¡å‹æœåŠ¡ã€‚ å¦‚æœæ‚¨åœ¨è¿œç¨‹æœåŠ¡å™¨éƒ¨ç½²æ¨¡å‹, ä½¿ç”¨è¯¥æœåŠ¡å™¨çš„IPè®¿é—®æ¨¡å‹.\n\n### 4. æ£€æŸ¥æ¨¡å‹éƒ¨ç½²\n\næ¨¡å‹æœåŠ¡å¯åŠ¨åï¼Œå¯ä»¥ä½¿ç”¨æ£€æŸ¥è„šæœ¬éªŒè¯éƒ¨ç½²æ˜¯å¦æˆåŠŸï¼š\n\n```bash\npython scripts/check_deployment_cn.py --base-url http://ä½ çš„IP:ä½ çš„ç«¯å£/v1 --model æ¨¡å‹åç§°\n```\n\nè„šæœ¬å°†å‘é€æµ‹è¯•è¯·æ±‚å¹¶å±•ç¤ºæ¨¡å‹çš„æ¨ç†ç»“æœï¼Œä½ å¯ä»¥æ ¹æ®è¾“å‡ºåˆ¤æ–­æ¨¡å‹éƒ¨ç½²æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚\n\nåŸºäºç»™å®šçš„ä»»åŠ¡, é¢„æœŸè¾“å‡ºå¦‚ä¸‹ã€‚**å¦‚æœæ€ç»´é“¾é•¿åº¦å¾ˆçŸ­, æˆ–è€…å‡ºç°äº†ä¹±ç , å¾ˆå¯èƒ½æ˜¯æ¨¡å‹éƒ¨ç½²å¤±è´¥**, è¯·ä»”ç»†æ£€æŸ¥æ–‡æ¡£è¦æ±‚çš„é…ç½®å’Œä¾èµ–ã€‚\n\n```\n<think>ç”¨æˆ·æƒ³è¦æ¯”è¾ƒè¿™ä¸ªæ´—å‘æ°´åœ¨äº¬ä¸œå’Œæ·˜å®ä¸Šçš„ä»·æ ¼ï¼Œç„¶åé€‰æ‹©æœ€ä¾¿å®œçš„å¹³å°ä¸‹å•ã€‚å½“å‰åœ¨å°çº¢ä¹¦appä¸Šï¼Œæ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªå…³äºLUMMI MOODæ´—å‘æ°´çš„å¸–å­ã€‚\n\næˆ‘éœ€è¦ï¼š\n1. å…ˆå¯åŠ¨äº¬ä¸œappï¼Œæœç´¢è¿™ä¸ªæ´—å‘æ°´\n2. æŸ¥çœ‹äº¬ä¸œçš„ä»·æ ¼\n3. å†å¯åŠ¨æ·˜å®appï¼Œæœç´¢è¿™ä¸ªæ´—å‘æ°´\n4. æŸ¥çœ‹æ·˜å®çš„ä»·æ ¼\n5. æ¯”è¾ƒä»·æ ¼åï¼Œé€‰æ‹©æœ€ä¾¿å®œçš„äº¬ä¸œæˆ–æ·˜å®ä¸‹å•\n\né¦–å…ˆï¼Œæˆ‘éœ€è¦ä»å½“å‰çš„å°çº¢ä¹¦ç•Œé¢é€€å‡ºï¼Œç„¶åå¯åŠ¨äº¬ä¸œappã€‚</think>\n<answer>do(action=\"Launch\", app=\"äº¬ä¸œ\")\n```\n\n**å‚æ•°è¯´æ˜ï¼š**\n- `--base-url`: æ¨¡å‹æœåŠ¡åœ°å€(æ ¹æ®å®é™…éƒ¨ç½²åœ°å€ä¿®æ”¹)\n- `--model`: æ¨¡å‹åç§°\n- `--messages-file`: å¯é€‰ï¼ŒæŒ‡å®šè‡ªå®šä¹‰æµ‹è¯•æ¶ˆæ¯æ–‡ä»¶(é»˜è®¤ä½¿ç”¨ `scripts/sample_messages.json`)\n\n## ä½¿ç”¨ AutoGLM\n\n### å‘½ä»¤è¡Œ\n\næ ¹æ®ä½ éƒ¨ç½²çš„æ¨¡å‹, è®¾ç½® `--base-url` å’Œ `--model` å‚æ•°. ä¾‹å¦‚:\n\n```bash\n# äº¤äº’æ¨¡å¼\npython main.py --base-url http://localhost:8000/v1 --model \"autoglm-phone-9b\"\n\n# æŒ‡å®šæ¨¡å‹ç«¯ç‚¹\npython main.py --base-url http://localhost:8000/v1 \"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—\"\n\n# ä½¿ç”¨ API Key è¿›è¡Œè®¤è¯\npython main.py --apikey sk-xxxxx\n\n# ä½¿ç”¨è‹±æ–‡ system prompt\npython main.py --lang en --base-url http://localhost:8000/v1 \"Open Chrome browser\"\n\n# åˆ—å‡ºæ”¯æŒçš„åº”ç”¨\npython main.py --list-apps\n```\n\n### Python API\n\n```python\nfrom phone_agent import PhoneAgent\nfrom phone_agent.model import ModelConfig\n\n# Configure model\nmodel_config = ModelConfig(\n    base_url=\"http://localhost:8000/v1\",\n    model_name=\"autoglm-phone-9b\",\n)\n\n# åˆ›å»º Agent\nagent = PhoneAgent(model_config=model_config)\n\n# æ‰§è¡Œä»»åŠ¡\nresult = agent.run(\"æ‰“å¼€æ·˜å®æœç´¢æ— çº¿è€³æœº\")\nprint(result)\n```\n\n## è¿œç¨‹è°ƒè¯•\n\nPhone Agent æ”¯æŒé€šè¿‡ WiFi/ç½‘ç»œè¿›è¡Œè¿œç¨‹ ADB è°ƒè¯•ï¼Œæ— éœ€ USB è¿æ¥å³å¯æ§åˆ¶è®¾å¤‡ã€‚\n\n### é…ç½®è¿œç¨‹è°ƒè¯•\n\n#### åœ¨æ‰‹æœºç«¯å¼€å¯æ— çº¿è°ƒè¯•\n\nç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€ä¸ªWiFiä¸­ï¼Œå¦‚å›¾æ‰€ç¤º\n\n![å¼€å¯æ— çº¿è°ƒè¯•](resources/setting.png)\n\n#### åœ¨ç”µè„‘ç«¯ä½¿ç”¨æ ‡å‡† ADB å‘½ä»¤\n\n```bash\n\n# é€šè¿‡ WiFi è¿æ¥, æ”¹æˆæ‰‹æœºæ˜¾ç¤ºçš„ IP åœ°å€å’Œç«¯å£\nadb connect 192.168.1.100:5555\n\n# éªŒè¯è¿æ¥\nadb devices\n# åº”æ˜¾ç¤ºï¼š192.168.1.100:5555    device\n```\n\n### è®¾å¤‡ç®¡ç†å‘½ä»¤\n\n```bash\n# åˆ—å‡ºæ‰€æœ‰å·²è¿æ¥è®¾å¤‡\nadb devices\n\n# è¿æ¥è¿œç¨‹è®¾å¤‡\nadb connect 192.168.1.100:5555\n\n# æ–­å¼€æŒ‡å®šè®¾å¤‡\nadb disconnect 192.168.1.100:5555\n\n# æŒ‡å®šè®¾å¤‡æ‰§è¡Œä»»åŠ¡\npython main.py --device-id 192.168.1.100:5555 --base-url http://localhost:8000/v1 --model \"autoglm-phone-9b\" \"æ‰“å¼€æŠ–éŸ³åˆ·è§†é¢‘\"\n```\n\n### Python API è¿œç¨‹è¿æ¥\n\n```python\nfrom phone_agent.adb import ADBConnection, list_devices\n\n# åˆ›å»ºè¿æ¥ç®¡ç†å™¨\nconn = ADBConnection()\n\n# è¿æ¥è¿œç¨‹è®¾å¤‡\nsuccess, message = conn.connect(\"192.168.1.100:5555\")\nprint(f\"è¿æ¥çŠ¶æ€: {message}\")\n\n# åˆ—å‡ºå·²è¿æ¥è®¾å¤‡\ndevices = list_devices()\nfor device in devices:\n    print(f\"{device.device_id} - {device.connection_type.value}\")\n\n# åœ¨ USB è®¾å¤‡ä¸Šå¯ç”¨ TCP/IP\nsuccess, message = conn.enable_tcpip(5555)\nip = conn.get_device_ip()\nprint(f\"è®¾å¤‡ IP: {ip}\")\n\n# æ–­å¼€è¿æ¥\nconn.disconnect(\"192.168.1.100:5555\")\n```\n\n### è¿œç¨‹è¿æ¥é—®é¢˜æ’æŸ¥\n\n**è¿æ¥è¢«æ‹’ç»ï¼š**\n\n- ç¡®ä¿è®¾å¤‡å’Œç”µè„‘åœ¨åŒä¸€ç½‘ç»œ\n- æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦é˜»æ­¢ 5555 ç«¯å£\n- ç¡®è®¤å·²å¯ç”¨ TCP/IP æ¨¡å¼ï¼š`adb tcpip 5555`\n\n**è¿æ¥æ–­å¼€ï¼š**\n\n- WiFi å¯èƒ½æ–­å¼€äº†ï¼Œä½¿ç”¨ `--connect` é‡æ–°è¿æ¥\n- éƒ¨åˆ†è®¾å¤‡é‡å¯åä¼šç¦ç”¨ TCP/IPï¼Œéœ€è¦é€šè¿‡ USB é‡æ–°å¯ç”¨\n\n**å¤šè®¾å¤‡ï¼š**\n\n- ä½¿ç”¨ `--device-id` æŒ‡å®šè¦ä½¿ç”¨çš„è®¾å¤‡\n- æˆ–ä½¿ç”¨ `--list-devices` æŸ¥çœ‹æ‰€æœ‰å·²è¿æ¥è®¾å¤‡\n\n## é…ç½®\n\n### è‡ªå®šä¹‰SYSTEM PROMPT\n\nç³»ç»Ÿæä¾›ä¸­è‹±æ–‡ä¸¤å¥— promptï¼Œé€šè¿‡ `--lang` å‚æ•°åˆ‡æ¢ï¼š\n\n- `--lang cn` - ä¸­æ–‡ prompt(é»˜è®¤)ï¼Œé…ç½®æ–‡ä»¶ï¼š`phone_agent/config/prompts_zh.py`\n- `--lang en` - è‹±æ–‡ promptï¼Œé…ç½®æ–‡ä»¶ï¼š`phone_agent/config/prompts_en.py`\n\nå¯ä»¥ç›´æ¥ä¿®æ”¹å¯¹åº”çš„é…ç½®æ–‡ä»¶æ¥å¢å¼ºæ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸçš„èƒ½åŠ›ï¼Œæˆ–é€šè¿‡æ³¨å…¥ app åç§°ç¦ç”¨æŸäº› appã€‚\n\n### ç¯å¢ƒå˜é‡\n\n| å˜é‡                      | æè¿°               | é»˜è®¤å€¼                        |\n|-------------------------|------------------|----------------------------|\n| `PHONE_AGENT_BASE_URL`  | æ¨¡å‹ API åœ°å€        | `http://localhost:8000/v1` |\n| `PHONE_AGENT_MODEL`     | æ¨¡å‹åç§°             | `autoglm-phone-9b`         |\n| `PHONE_AGENT_API_KEY`   | æ¨¡å‹è®¤è¯ API Key     | `EMPTY`                    |\n| `PHONE_AGENT_MAX_STEPS` | æ¯ä¸ªä»»åŠ¡æœ€å¤§æ­¥æ•°         | `100`                      |\n| `PHONE_AGENT_DEVICE_ID` | ADB è®¾å¤‡ ID        | (è‡ªåŠ¨æ£€æµ‹)                     |\n| `PHONE_AGENT_LANG`      | è¯­è¨€ (`cn` æˆ– `en`) | `cn`                       |\n\n### æ¨¡å‹é…ç½®\n\n```python\nfrom phone_agent.model import ModelConfig\n\nconfig = ModelConfig(\n    base_url=\"http://localhost:8000/v1\",\n    api_key=\"EMPTY\",  # API å¯†é’¥(å¦‚éœ€è¦)\n    model_name=\"autoglm-phone-9b\",  # æ¨¡å‹åç§°\n    max_tokens=3000,  # æœ€å¤§è¾“å‡º token æ•°\n    temperature=0.1,  # é‡‡æ ·æ¸©åº¦\n    frequency_penalty=0.2,  # é¢‘ç‡æƒ©ç½š\n)\n```\n\n### Agent é…ç½®\n\n```python\nfrom phone_agent.agent import AgentConfig\n\nconfig = AgentConfig(\n    max_steps=100,  # æ¯ä¸ªä»»åŠ¡æœ€å¤§æ­¥æ•°\n    device_id=None,  # ADB è®¾å¤‡ ID(None ä¸ºè‡ªåŠ¨æ£€æµ‹)\n    lang=\"cn\",  # è¯­è¨€é€‰æ‹©ï¼šcn(ä¸­æ–‡)æˆ– en(è‹±æ–‡)\n    verbose=True,  # æ‰“å°è°ƒè¯•ä¿¡æ¯(åŒ…æ‹¬æ€è€ƒè¿‡ç¨‹å’Œæ‰§è¡ŒåŠ¨ä½œ)\n)\n```\n\n### Verbose æ¨¡å¼è¾“å‡º\n\nå½“ `verbose=True` æ—¶ï¼ŒAgent ä¼šåœ¨æ¯ä¸€æ­¥è¾“å‡ºè¯¦ç»†ä¿¡æ¯ï¼š\n\n```\n==================================================\nğŸ’­ æ€è€ƒè¿‡ç¨‹:\n--------------------------------------------------\nå½“å‰åœ¨ç³»ç»Ÿæ¡Œé¢ï¼Œéœ€è¦å…ˆå¯åŠ¨å°çº¢ä¹¦åº”ç”¨\n--------------------------------------------------\nğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:\n{\n  \"_metadata\": \"do\",\n  \"action\": \"Launch\",\n  \"app\": \"å°çº¢ä¹¦\"\n}\n==================================================\n\n... (æ‰§è¡ŒåŠ¨ä½œåç»§ç»­ä¸‹ä¸€æ­¥)\n\n==================================================\nğŸ’­ æ€è€ƒè¿‡ç¨‹:\n--------------------------------------------------\nå°çº¢ä¹¦å·²æ‰“å¼€ï¼Œç°åœ¨éœ€è¦ç‚¹å‡»æœç´¢æ¡†\n--------------------------------------------------\nğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:\n{\n  \"_metadata\": \"do\",\n  \"action\": \"Tap\",\n  \"element\": [500, 100]\n}\n==================================================\n\nğŸ‰ ================================================\nâœ… ä»»åŠ¡å®Œæˆ: å·²æˆåŠŸæœç´¢ç¾é£Ÿæ”»ç•¥\n==================================================\n```\n\nè¿™æ ·å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ° AI çš„æ¨ç†è¿‡ç¨‹å’Œæ¯ä¸€æ­¥çš„å…·ä½“æ“ä½œã€‚\n\n## æ”¯æŒçš„åº”ç”¨\n\nPhone Agent æ”¯æŒ 50+ æ¬¾ä¸»æµä¸­æ–‡åº”ç”¨ï¼š\n\n| åˆ†ç±»   | åº”ç”¨              |\n|------|-----------------|\n| ç¤¾äº¤é€šè®¯ | å¾®ä¿¡ã€QQã€å¾®åš        |\n| ç”µå•†è´­ç‰© | æ·˜å®ã€äº¬ä¸œã€æ‹¼å¤šå¤š       |\n| ç¾é£Ÿå¤–å– | ç¾å›¢ã€é¥¿äº†ä¹ˆã€è‚¯å¾·åŸº      |\n| å‡ºè¡Œæ—…æ¸¸ | æºç¨‹ã€12306ã€æ»´æ»´å‡ºè¡Œ   |\n| è§†é¢‘å¨±ä¹ | bilibiliã€æŠ–éŸ³ã€çˆ±å¥‡è‰º |\n| éŸ³ä¹éŸ³é¢‘ | ç½‘æ˜“äº‘éŸ³ä¹ã€QQéŸ³ä¹ã€å–œé©¬æ‹‰é›… |\n| ç”Ÿæ´»æœåŠ¡ | å¤§ä¼—ç‚¹è¯„ã€é«˜å¾·åœ°å›¾ã€ç™¾åº¦åœ°å›¾  |\n| å†…å®¹ç¤¾åŒº | å°çº¢ä¹¦ã€çŸ¥ä¹ã€è±†ç“£       |\n\nè¿è¡Œ `python main.py --list-apps` æŸ¥çœ‹å®Œæ•´åˆ—è¡¨ã€‚\n\n## å¯ç”¨æ“ä½œ\n\nAgent å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\n\n| æ“ä½œ           | æè¿°              |\n|--------------|-----------------|\n| `Launch`     | å¯åŠ¨åº”ç”¨            |  \n| `Tap`        | ç‚¹å‡»æŒ‡å®šåæ ‡          |\n| `Type`       | è¾“å…¥æ–‡æœ¬            |\n| `Swipe`      | æ»‘åŠ¨å±å¹•            |\n| `Back`       | è¿”å›ä¸Šä¸€é¡µ           |\n| `Home`       | è¿”å›æ¡Œé¢            |\n| `Long Press` | é•¿æŒ‰              |\n| `Double Tap` | åŒå‡»              |\n| `Wait`       | ç­‰å¾…é¡µé¢åŠ è½½          |\n| `Take_over`  | è¯·æ±‚äººå·¥æ¥ç®¡(ç™»å½•/éªŒè¯ç ç­‰) |\n\n## è‡ªå®šä¹‰å›è°ƒ\n\nå¤„ç†æ•æ„Ÿæ“ä½œç¡®è®¤å’Œäººå·¥æ¥ç®¡ï¼š\n\n```python\ndef my_confirmation(message: str) -> bool:\n    \"\"\"æ•æ„Ÿæ“ä½œç¡®è®¤å›è°ƒ\"\"\"\n    return input(f\"ç¡®è®¤æ‰§è¡Œ {message}ï¼Ÿ(y/n): \").lower() == \"y\"\n\n\ndef my_takeover(message: str) -> None:\n    \"\"\"äººå·¥æ¥ç®¡å›è°ƒ\"\"\"\n    print(f\"è¯·æ‰‹åŠ¨å®Œæˆ: {message}\")\n    input(\"å®ŒæˆåæŒ‰å›è½¦ç»§ç»­...\")\n\n\nagent = PhoneAgent(\n    confirmation_callback=my_confirmation,\n    takeover_callback=my_takeover,\n)\n```\n\n## ç¤ºä¾‹\n\næŸ¥çœ‹ `examples/` ç›®å½•è·å–æ›´å¤šä½¿ç”¨ç¤ºä¾‹ï¼š\n\n- `basic_usage.py` - åŸºç¡€ä»»åŠ¡æ‰§è¡Œ\n- å•æ­¥è°ƒè¯•æ¨¡å¼\n- æ‰¹é‡ä»»åŠ¡æ‰§è¡Œ\n- è‡ªå®šä¹‰å›è°ƒ\n\n## äºŒæ¬¡å¼€å‘\n\n### é…ç½®å¼€å‘ç¯å¢ƒ\n\näºŒæ¬¡å¼€å‘éœ€è¦ä½¿ç”¨å¼€å‘ä¾èµ–ï¼š\n\n```bash\npip install -e \".[dev]\"\n```\n\n### è¿è¡Œæµ‹è¯•\n\n```bash\npytest tests/\n```\n\n### å®Œæ•´é¡¹ç›®ç»“æ„\n\n```\nphone_agent/\nâ”œâ”€â”€ __init__.py          # åŒ…å¯¼å‡º\nâ”œâ”€â”€ agent.py             # PhoneAgent ä¸»ç±»\nâ”œâ”€â”€ adb/                 # ADB å·¥å…·\nâ”‚   â”œâ”€â”€ connection.py    # è¿œç¨‹/æœ¬åœ°è¿æ¥ç®¡ç†\nâ”‚   â”œâ”€â”€ screenshot.py    # å±å¹•æˆªå›¾\nâ”‚   â”œâ”€â”€ input.py         # æ–‡æœ¬è¾“å…¥ (ADB Keyboard)\nâ”‚   â””â”€â”€ device.py        # è®¾å¤‡æ§åˆ¶ (ç‚¹å‡»ã€æ»‘åŠ¨ç­‰)\nâ”œâ”€â”€ actions/             # æ“ä½œå¤„ç†\nâ”‚   â””â”€â”€ handler.py       # æ“ä½œæ‰§è¡Œå™¨\nâ”œâ”€â”€ config/              # é…ç½®\nâ”‚   â”œâ”€â”€ apps.py          # æ”¯æŒçš„åº”ç”¨æ˜ å°„\nâ”‚   â”œâ”€â”€ prompts_zh.py    # ä¸­æ–‡ç³»ç»Ÿæç¤ºè¯\nâ”‚   â””â”€â”€ prompts_en.py    # è‹±æ–‡ç³»ç»Ÿæç¤ºè¯\nâ””â”€â”€ model/               # AI æ¨¡å‹å®¢æˆ·ç«¯\n    â””â”€â”€ client.py        # OpenAI å…¼å®¹å®¢æˆ·ç«¯\n```\n\n## å¸¸è§é—®é¢˜\n\næˆ‘ä»¬åˆ—ä¸¾äº†ä¸€äº›å¸¸è§çš„é—®é¢˜ï¼Œä»¥åŠå¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼š\n\n### è®¾å¤‡æœªæ‰¾åˆ°\n\nå°è¯•é€šè¿‡é‡å¯ ADB æœåŠ¡æ¥è§£å†³ï¼š\n\n```bash\nadb kill-server\nadb start-server\nadb devices\n```\n\nå¦‚æœä»ç„¶æ— æ³•è¯†åˆ«ï¼Œè¯·æ£€æŸ¥ï¼š\n\n1. USB è°ƒè¯•æ˜¯å¦å·²å¼€å¯\n2. æ•°æ®çº¿æ˜¯å¦æ”¯æŒæ•°æ®ä¼ è¾“(éƒ¨åˆ†æ•°æ®çº¿ä»…æ”¯æŒå……ç”µ)\n3. æ‰‹æœºä¸Šå¼¹å‡ºçš„æˆæƒæ¡†æ˜¯å¦å·²ç‚¹å‡»ã€Œå…è®¸ã€\n4. å°è¯•æ›´æ¢ USB æ¥å£æˆ–æ•°æ®çº¿\n\n### èƒ½æ‰“å¼€åº”ç”¨ï¼Œä½†æ— æ³•ç‚¹å‡»\n\néƒ¨åˆ†æœºå‹éœ€è¦åŒæ—¶å¼€å¯ä¸¤ä¸ªè°ƒè¯•é€‰é¡¹æ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼š\n\n- **USB è°ƒè¯•**\n- **USB è°ƒè¯•(å®‰å…¨è®¾ç½®)**\n\nè¯·åœ¨ `è®¾ç½® â†’ å¼€å‘è€…é€‰é¡¹` ä¸­æ£€æŸ¥è¿™ä¸¤ä¸ªé€‰é¡¹æ˜¯å¦éƒ½å·²å¯ç”¨ã€‚\n\n### æ–‡æœ¬è¾“å…¥ä¸å·¥ä½œ\n\n1. ç¡®ä¿è®¾å¤‡å·²å®‰è£… ADB Keyboard\n2. åœ¨è®¾ç½® > ç³»ç»Ÿ > è¯­è¨€å’Œè¾“å…¥æ³• > è™šæ‹Ÿé”®ç›˜ ä¸­å¯ç”¨\n3. Agent ä¼šåœ¨éœ€è¦è¾“å…¥æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ° ADB Keyboard\n\n### æˆªå›¾å¤±è´¥(é»‘å±)\n\nè¿™é€šå¸¸æ„å‘³ç€åº”ç”¨æ­£åœ¨æ˜¾ç¤ºæ•æ„Ÿé¡µé¢(æ”¯ä»˜ã€å¯†ç ã€é“¶è¡Œç±»åº”ç”¨)ã€‚Agent ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶è¯·æ±‚äººå·¥æ¥ç®¡ã€‚\n\n### windows ç¼–ç å¼‚å¸¸é—®é¢˜\n\næŠ¥é”™ä¿¡æ¯å½¢å¦‚ `UnicodeEncodeError gbk code`\n\nè§£å†³åŠæ³•: åœ¨è¿è¡Œä»£ç çš„å‘½ä»¤å‰é¢åŠ ä¸Šç¯å¢ƒå˜é‡: `PYTHONIOENCODING=utf-8`\n\n### äº¤äº’æ¨¡å¼éTTYç¯å¢ƒæ— æ³•ä½¿ç”¨\n\næŠ¥é”™å½¢å¦‚: `EOF when reading a line`\n\nè§£å†³åŠæ³•: ä½¿ç”¨éäº¤äº’æ¨¡å¼ç›´æ¥æŒ‡å®šä»»åŠ¡, æˆ–è€…åˆ‡æ¢åˆ° TTY æ¨¡å¼çš„ç»ˆç«¯åº”ç”¨.\n\n### å¼•ç”¨\n\nå¦‚æœä½ è§‰å¾—æˆ‘ä»¬çš„å·¥ä½œæœ‰å¸®åŠ©ï¼Œè¯·å¼•ç”¨ä»¥ä¸‹è®ºæ–‡ï¼š\n\n```bibtex\n@article{liu2024autoglm,\n  title={Autoglm: Autonomous foundation agents for guis},\n  author={Liu, Xiao and Qin, Bo and Liang, Dongzhu and Dong, Guang and Lai, Hanyu and Zhang, Hanchen and Zhao, Hanlin and Iong, Iat Long and Sun, Jiadai and Wang, Jiaqi and others},\n  journal={arXiv preprint arXiv:2411.00820},\n  year={2024}\n}\n@article{xu2025mobilerl,\n  title={MobileRL: Online Agentic Reinforcement Learning for Mobile GUI Agents},\n  author={Xu, Yifan and Liu, Xiao and Liu, Xinghan and Fu, Jiaqi and Zhang, Hanchen and Jing, Bohao and Zhang, Shudan and Wang, Yuting and Zhao, Wenyi and Dong, Yuxiao},\n  journal={arXiv preprint arXiv:2509.18119},\n  year={2025}\n}\n```\n\n---\n\n## è‡ªåŠ¨åŒ–éƒ¨ç½²æŒ‡å—(é¢å‘ AI)\n\n> **æœ¬ç« èŠ‚ä¸“ä¸º AI åŠ©æ‰‹(å¦‚ Claude Code)è®¾è®¡ï¼Œç”¨äºè‡ªåŠ¨åŒ–éƒ¨ç½² Open-AutoGLMã€‚**\n>\n> å¦‚æœä½ æ˜¯äººç±»è¯»è€…ï¼Œå¯ä»¥è·³è¿‡æœ¬ç« èŠ‚ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ–‡æ¡£æ“ä½œå³å¯ã€‚\n\n---\n\n### é¡¹ç›®æ¦‚è¿°\n\nOpen-AutoGLM æ˜¯ä¸€ä¸ªæ‰‹æœº Agent æ¡†æ¶ï¼š\n- **è¾“å…¥**ï¼šç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤(å¦‚\"æ‰“å¼€å¾®ä¿¡å‘æ¶ˆæ¯ç»™å¼ ä¸‰\")\n- **è¾“å‡º**ï¼šè‡ªåŠ¨æ“ä½œç”¨æˆ·çš„å®‰å“æ‰‹æœºå®Œæˆä»»åŠ¡\n- **åŸç†**ï¼šæˆªå›¾ â†’ è§†è§‰æ¨¡å‹ç†è§£ç•Œé¢ â†’ è¾“å‡ºç‚¹å‡»åæ ‡ â†’ ADB æ‰§è¡Œæ“ä½œ â†’ å¾ªç¯\n\næ¶æ„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š\n1. **Agent ä»£ç **(æœ¬ä»“åº“)ï¼šè¿è¡Œåœ¨ç”¨æˆ·ç”µè„‘ä¸Šï¼Œè´Ÿè´£è°ƒç”¨æ¨¡å‹ã€è§£æåŠ¨ä½œã€æ§åˆ¶æ‰‹æœº\n2. **è§†è§‰æ¨¡å‹æœåŠ¡**ï¼šå¯ä»¥æ˜¯è¿œç¨‹ APIï¼Œä¹Ÿå¯ä»¥æœ¬åœ°éƒ¨ç½²\n\n---\n\n### éƒ¨ç½²å‰ç½®æ£€æŸ¥\n\nåœ¨å¼€å§‹éƒ¨ç½²å‰ï¼Œè¯·é€é¡¹å‘ç”¨æˆ·ç¡®è®¤ä»¥ä¸‹å†…å®¹ï¼š\n\n#### ç¡¬ä»¶ç¯å¢ƒ\n- [ ] ç”¨æˆ·æœ‰ä¸€å°å®‰å“æ‰‹æœº(Android 7.0+)\n- [ ] ç”¨æˆ·æœ‰ä¸€æ ¹æ”¯æŒæ•°æ®ä¼ è¾“çš„ USB æ•°æ®çº¿(ä¸æ˜¯ä»…å……ç”µçº¿)\n- [ ] æ‰‹æœºå’Œç”µè„‘å¯ä»¥é€šè¿‡æ•°æ®çº¿è¿æ¥\n\n#### æ‰‹æœºç«¯é…ç½®\n- [ ] æ‰‹æœºå·²å¼€å¯ã€Œå¼€å‘è€…æ¨¡å¼ã€(è®¾ç½® â†’ å…³äºæ‰‹æœº â†’ è¿ç»­ç‚¹å‡»ç‰ˆæœ¬å· 7 æ¬¡)\n- [ ] æ‰‹æœºå·²å¼€å¯ã€ŒUSB è°ƒè¯•ã€(è®¾ç½® â†’ å¼€å‘è€…é€‰é¡¹ â†’ USB è°ƒè¯•)\n- [ ] éƒ¨åˆ†æœºå‹éœ€è¦åŒæ—¶å¼€å¯ã€ŒUSB è°ƒè¯•(å®‰å…¨è®¾ç½®)ã€\n- [ ] æ‰‹æœºå·²å®‰è£… ADB Keyboard åº”ç”¨(ä¸‹è½½åœ°å€ï¼šhttps://github.com/senzhk/ADBKeyBoard/blob/master/ADBKeyboard.apk)\n- [ ] ADB Keyboard å·²åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å¯ç”¨(è®¾ç½® â†’ è¯­è¨€å’Œè¾“å…¥æ³• â†’ å¯ç”¨ ADB Keyboard)\n\n#### æ¨¡å‹æœåŠ¡ç¡®è®¤(äºŒé€‰ä¸€)\n\n**è¯·æ˜ç¡®è¯¢é—®ç”¨æˆ·ï¼šä½ æ˜¯å¦å·²æœ‰å¯ç”¨çš„ AutoGLM æ¨¡å‹æœåŠ¡ï¼Ÿ**\n\n- **é€‰é¡¹ Aï¼šä½¿ç”¨å·²éƒ¨ç½²çš„æ¨¡å‹æœåŠ¡(æ¨è)**\n  - ç”¨æˆ·æä¾›æ¨¡å‹æœåŠ¡çš„ URL(å¦‚ `http://xxx.xxx.xxx.xxx:8000/v1`)\n  - æ— éœ€æœ¬åœ° GPUï¼Œæ— éœ€ä¸‹è½½æ¨¡å‹\n  - ç›´æ¥ä½¿ç”¨è¯¥ URL ä½œä¸º `--base-url` å‚æ•°\n\n- **é€‰é¡¹ Bï¼šæœ¬åœ°éƒ¨ç½²æ¨¡å‹(é«˜é…ç½®è¦æ±‚)**\n  - éœ€è¦ NVIDIA GPU(å»ºè®® 24GB+ æ˜¾å­˜)\n  - éœ€è¦å®‰è£… vLLM æˆ– SGLang\n  - éœ€è¦ä¸‹è½½çº¦ 20GB çš„æ¨¡å‹æ–‡ä»¶\n  - **å¦‚æœç”¨æˆ·æ˜¯æ–°æ‰‹æˆ–ä¸ç¡®å®šï¼Œå¼ºçƒˆå»ºè®®é€‰æ‹©é€‰é¡¹ A**\n\n---\n\n### éƒ¨ç½²æµç¨‹\n\n#### é˜¶æ®µä¸€ï¼šç¯å¢ƒå‡†å¤‡\n\n```bash\n# 1. å®‰è£… ADB å·¥å…·\n# MacOS:\nbrew install android-platform-tools\n# æˆ–æ‰‹åŠ¨ä¸‹è½½ï¼šhttps://developer.android.com/tools/releases/platform-tools\n\n# Windows: ä¸‹è½½åè§£å‹ï¼Œæ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡\n\n# 2. éªŒè¯ ADB å®‰è£…\nadb version\n# åº”è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯\n\n# 3. è¿æ¥æ‰‹æœºå¹¶éªŒè¯\n# ç”¨æ•°æ®çº¿è¿æ¥æ‰‹æœºï¼Œæ‰‹æœºä¸Šç‚¹å‡»ã€Œå…è®¸ USB è°ƒè¯•ã€\nadb devices\n# åº”è¾“å‡ºè®¾å¤‡åˆ—è¡¨ï¼Œå¦‚ï¼š\n# List of devices attached\n# XXXXXXXX    device\n```\n\n**å¦‚æœ `adb devices` æ˜¾ç¤ºç©ºåˆ—è¡¨æˆ– unauthorizedï¼š**\n1. æ£€æŸ¥æ‰‹æœºä¸Šæ˜¯å¦å¼¹å‡ºæˆæƒæ¡†ï¼Œç‚¹å‡»ã€Œå…è®¸ã€\n2. æ£€æŸ¥ USB è°ƒè¯•æ˜¯å¦å¼€å¯\n3. å°è¯•æ›´æ¢æ•°æ®çº¿æˆ– USB æ¥å£\n4. æ‰§è¡Œ `adb kill-server && adb start-server` åé‡è¯•\n\n#### é˜¶æ®µäºŒï¼šå®‰è£… Agent\n\n```bash\n# 1. å…‹éš†ä»“åº“(å¦‚æœè¿˜æ²¡æœ‰å…‹éš†)\ngit clone https://github.com/zai-org/Open-AutoGLM.git\ncd Open-AutoGLM\n\n# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ(æ¨è)\npython -m venv venv\nsource venv/bin/activate  # Windows: venv\\Scripts\\activate\n\n# 3. å®‰è£…ä¾èµ–\npip install -r requirements.txt\npip install -e .\n```\n\n**æ³¨æ„ï¼šä¸éœ€è¦ clone æ¨¡å‹ä»“åº“ï¼Œæ¨¡å‹é€šè¿‡ API è°ƒç”¨ã€‚**\n\n#### é˜¶æ®µä¸‰ï¼šé…ç½®æ¨¡å‹æœåŠ¡\n\n**å¦‚æœç”¨æˆ·é€‰æ‹©é€‰é¡¹ A(ä½¿ç”¨å·²éƒ¨ç½²çš„æ¨¡å‹)ï¼š**\n\nä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç¬¬ä¸‰æ–¹æ¨¡å‹æœåŠ¡ï¼š\n\n1. **æ™ºè°± BigModel**\n   - æ–‡æ¡£ï¼šhttps://docs.bigmodel.cn/cn/api/introduction\n   - `--base-url`ï¼š`https://open.bigmodel.cn/api/paas/v4`\n   - `--model`ï¼š`autoglm-phone`\n   - `--apikey`ï¼šåœ¨æ™ºè°±å¹³å°ç”³è¯·ä½ çš„ API Key\n\n2. **ModelScope(é­”æ­ç¤¾åŒº)**\n   - æ–‡æ¡£ï¼šhttps://modelscope.cn/models/ZhipuAI/AutoGLM-Phone-9B\n   - `--base-url`ï¼š`https://api-inference.modelscope.cn/v1`\n   - `--model`ï¼š`ZhipuAI/AutoGLM-Phone-9B`\n   - `--apikey`ï¼šåœ¨ ModelScope å¹³å°ç”³è¯·ä½ çš„ API Key\n\nä½¿ç”¨ç¤ºä¾‹ï¼š\n\n```bash\n# ä½¿ç”¨æ™ºè°± BigModel\npython main.py --base-url https://open.bigmodel.cn/api/paas/v4 --model \"autoglm-phone\" --apikey \"your-bigmodel-api-key\" \"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—\"\n\n# ä½¿ç”¨ ModelScope\npython main.py --base-url https://api-inference.modelscope.cn/v1 --model \"ZhipuAI/AutoGLM-Phone-9B\" --apikey \"your-modelscope-api-key\" \"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—\"\n```\n\næˆ–è€…ç›´æ¥ä½¿ç”¨ç”¨æˆ·æä¾›çš„å…¶ä»–æ¨¡å‹æœåŠ¡ URLï¼Œè·³è¿‡æœ¬åœ°æ¨¡å‹éƒ¨ç½²æ­¥éª¤ã€‚\n\n**å¦‚æœç”¨æˆ·é€‰æ‹©é€‰é¡¹ B(æœ¬åœ°éƒ¨ç½²æ¨¡å‹)ï¼š**\n\n```bash\n# 1. å®‰è£… vLLM\npip install vllm\n\n# 2. å¯åŠ¨æ¨¡å‹æœåŠ¡(ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹ï¼Œçº¦ 20GB)\npython3 -m vllm.entrypoints.openai.api_server \\\n  --served-model-name autoglm-phone-9b \\\n  --allowed-local-media-path / \\\n  --mm-encoder-tp-mode data \\\n  --mm_processor_cache_type shm \\\n  --mm_processor_kwargs \"{\\\"max_pixels\\\":5000000}\" \\\n  --max-model-len 25480 \\\n  --chat-template-content-format string \\\n  --limit-mm-per-prompt \"{\\\"image\\\":10}\" \\\n  --model zai-org/AutoGLM-Phone-9B \\\n  --port 8000\n\n# æ¨¡å‹æœåŠ¡ URL ä¸ºï¼šhttp://localhost:8000/v1\n```\n\n#### é˜¶æ®µå››ï¼šéªŒè¯éƒ¨ç½²\n\n```bash\n# åœ¨ Open-AutoGLM ç›®å½•ä¸‹æ‰§è¡Œ\n# å°† {MODEL_URL} æ›¿æ¢ä¸ºå®é™…çš„æ¨¡å‹æœåŠ¡åœ°å€\n\npython main.py --base-url {MODEL_URL} --model \"autoglm-phone-9b\" \"æ‰“å¼€å¾®ä¿¡ï¼Œå¯¹æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹å‘é€æ¶ˆæ¯ï¼šéƒ¨ç½²æˆåŠŸ\"\n```\n\n**é¢„æœŸç»“æœï¼š**\n- æ‰‹æœºè‡ªåŠ¨æ‰“å¼€å¾®ä¿¡\n- è‡ªåŠ¨æœç´¢ã€Œæ–‡ä»¶ä¼ è¾“åŠ©æ‰‹ã€\n- è‡ªåŠ¨å‘é€æ¶ˆæ¯ã€Œéƒ¨ç½²æˆåŠŸã€\n\n---\n\n### å¼‚å¸¸å¤„ç†\n\n| é”™è¯¯ç°è±¡ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |\n|---------|---------|---------|\n| `adb devices` æ— è¾“å‡º | USB è°ƒè¯•æœªå¼€å¯æˆ–æ•°æ®çº¿é—®é¢˜ | æ£€æŸ¥å¼€å‘è€…é€‰é¡¹ï¼Œæ›´æ¢æ•°æ®çº¿ |\n| `adb devices` æ˜¾ç¤º unauthorized | æ‰‹æœºæœªæˆæƒ | æ‰‹æœºä¸Šç‚¹å‡»ã€Œå…è®¸ USB è°ƒè¯•ã€|\n| èƒ½æ‰“å¼€åº”ç”¨ä½†æ— æ³•ç‚¹å‡» | ç¼ºå°‘å®‰å…¨è°ƒè¯•æƒé™ | å¼€å¯ã€ŒUSB è°ƒè¯•(å®‰å…¨è®¾ç½®)ã€|\n| ä¸­æ–‡è¾“å…¥å˜æˆä¹±ç æˆ–æ— è¾“å…¥ | ADB Keyboard æœªå¯ç”¨ | åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å¯ç”¨ ADB Keyboard |\n| æˆªå›¾è¿”å›é»‘å± | æ•æ„Ÿé¡µé¢(æ”¯ä»˜/é“¶è¡Œ) | æ­£å¸¸ç°è±¡ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç† |\n| è¿æ¥æ¨¡å‹æœåŠ¡å¤±è´¥ | URL é”™è¯¯æˆ–æœåŠ¡æœªå¯åŠ¨ | æ£€æŸ¥ URLï¼Œç¡®è®¤æœåŠ¡æ­£åœ¨è¿è¡Œ |\n| `ModuleNotFoundError` | ä¾èµ–æœªå®‰è£… | æ‰§è¡Œ `pip install -r requirements.txt` |\n\n---\n\n### éƒ¨ç½²è¦ç‚¹\n\n1. **ä¼˜å…ˆç¡®è®¤æ‰‹æœºè¿æ¥**ï¼šåœ¨å®‰è£…ä»»ä½•ä»£ç ä¹‹å‰ï¼Œå…ˆç¡®ä¿ `adb devices` èƒ½çœ‹åˆ°è®¾å¤‡\n2. **ä¸è¦è·³è¿‡ ADB Keyboard**ï¼šæ²¡æœ‰å®ƒï¼Œä¸­æ–‡è¾“å…¥ä¼šå¤±è´¥\n3. **æ¨¡å‹æœåŠ¡æ˜¯å¤–éƒ¨ä¾èµ–**ï¼šAgent ä»£ç æœ¬èº«ä¸åŒ…å«æ¨¡å‹ï¼Œéœ€è¦å•ç‹¬çš„æ¨¡å‹æœåŠ¡\n4. **é‡åˆ°æƒé™é—®é¢˜å…ˆæ£€æŸ¥æ‰‹æœºè®¾ç½®**ï¼šå¤§éƒ¨åˆ†é—®é¢˜éƒ½æ˜¯æ‰‹æœºç«¯é…ç½®ä¸å®Œæ•´\n5. **éƒ¨ç½²å®Œæˆåç”¨ç®€å•ä»»åŠ¡æµ‹è¯•**ï¼šå»ºè®®ç”¨ã€Œæ‰“å¼€å¾®ä¿¡å‘æ¶ˆæ¯ç»™æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹ã€ä½œä¸ºéªŒæ”¶æ ‡å‡†\n\n---\n\n### å‘½ä»¤é€ŸæŸ¥\n\n```bash\n# æ£€æŸ¥ ADB è¿æ¥\nadb devices\n\n# é‡å¯ ADB æœåŠ¡\nadb kill-server && adb start-server\n\n# å®‰è£…ä¾èµ–\npip install -r requirements.txt && pip install -e .\n\n# è¿è¡Œ Agent(äº¤äº’æ¨¡å¼)\npython main.py --base-url {MODEL_URL} --model \"autoglm-phone-9b\"\n\n# è¿è¡Œ Agent(å•æ¬¡ä»»åŠ¡)\npython main.py --base-url {MODEL_URL} --model \"autoglm-phone-9b\" \"ä½ çš„ä»»åŠ¡æè¿°\"\n\n# æŸ¥çœ‹æ”¯æŒçš„åº”ç”¨åˆ—è¡¨\npython main.py --list-apps\n```\n\n---\n\n**éƒ¨ç½²å®Œæˆçš„æ ‡å¿—ï¼šæ‰‹æœºèƒ½è‡ªåŠ¨æ‰§è¡Œç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€‚**\n","numLines":844,"startLine":1,"totalLines":844}}}
{"parentUuid":"09425b33-d16e-4670-953b-75cfd257e290","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01LMxBveTdfBshECNzY7GtgB","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"å¥½çš„ï¼Œæˆ‘ç°åœ¨ç†è§£äº†ç”¨æˆ·çš„éœ€æ±‚ã€‚ç”¨æˆ·å¸Œæœ›åˆ›å»ºä¸€ä¸ªå¯ä»¥åŒå‡»è¿è¡Œçš„è„šæœ¬ï¼Œè¿™ä¸ªè„šæœ¬éœ€è¦ï¼š\n1. ä» .env æ–‡ä»¶è¯»å–ç¯å¢ƒå˜é‡\n2. åœ¨ Windows ä¸ŠåŒå‡»å°±èƒ½è¿è¡Œï¼ˆ.bat æ–‡ä»¶ï¼‰\n3. è¿è¡Œ main.py\n\nä» .env æ–‡ä»¶ä¸­æˆ‘çœ‹åˆ°ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š\n- PHONE_AGENT_BASE_URL=https://open.bigmodel.cn/api/paas/v4\n- PHONE_AGENT_MODEL=autoglm-phone\n- PHONE_AGENT_API_KEY=14e4c8ed9dde4caaa294adb1061ec57d.d7DALlu0DejBGguL\n- PHONE_AGENT_MAX_STEPS=100\n- ADB_PATH=D:\\Adb\\platform-tools\n\nmain.py éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼š\n- PHONE_AGENT_BASE_URL\n- PHONE_AGENT_MODEL\n- PHONE_AGENT_API_KEY\n- PHONE_AGENT_MAX_STEPS\n- PHONE_AGENT_DEVICE_IDï¼ˆå¯é€‰ï¼‰\n\nå¦å¤–ä» main.py çš„ä»£ç å¯ä»¥çœ‹åˆ° Windows å¹³å°éœ€è¦è®¾ç½® PYTHONIOENCODING=utf-8\n\næˆ‘éœ€è¦åˆ›å»ºä¸€ä¸ª .bat æ–‡ä»¶ï¼Œå®ƒä¼šï¼š\n1. è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆä» .env è¯»å–çš„å€¼ï¼‰\n2. è®¾ç½® ADB_PATH åˆ° PATH\n3. è®¾ç½® PYTHONIOENCODING=utf-8\n4. è¿è¡Œ python main.pyï¼ˆå¯èƒ½æ˜¯äº¤äº’æ¨¡å¼ï¼‰\n\næˆ‘çœ‹åˆ°å·²ç»æœ‰ run.batã€run-simple.batã€run-debug.bat ç­‰æ–‡ä»¶ï¼Œä½†æ²¡æœ‰å†…å®¹ã€‚\n\næˆ‘å°†è®¾è®¡ä¸€ä¸ªçµæ´»ä¸”é€šç”¨çš„æ‰¹å¤„ç†è„šæœ¬ï¼Œç¡®ä¿èƒ½å¤Ÿæ­£ç¡®åŠ è½½ç¯å¢ƒå˜é‡å¹¶å¯åŠ¨ä¸»ç¨‹åºã€‚è¿™ä¸ªè„šæœ¬éœ€è¦è€ƒè™‘ä¸åŒçš„è¿è¡Œåœºæ™¯å’Œé…ç½®éœ€æ±‚ã€‚","signature":"EuQJCkYIChgCKkDhmKRdhU6o/kjQJB2rjyXyO3xySz2QnN25vXDptYYtT56Gt8XwhrVtg1i3kvKcuJkgtO/V0g5ni6a8X0b2JcAjEgzaaribKWEViZVMpw8aDO+6KF1GIIgWaTSaPyIw5tkC8VfrtWEWQjYTqW8XqSX+Ubq2u8rdZ30nN3ZMzCcEIL9K9mcZJDaa9AfecT0pKssIDS+i7qAqWz4Y8RmRx7EW1Zc0FkBnvkx7DRtf7S20JQ1W4pirIqZf17Y9M6CQA6zgSKgzQK4qc8QG5aLv+y1CvpOzfdPUkr+WZDAoaQvd70v5afbt/VmfU7PwdOvGu12uXpJGEYFmSLLZiXyL8Kt5U3mJmsjWsQkrQ6PvwRf26n/OZvQ+8OW5e1QTgbAtFxKB/FkAZ4Z3YeIpicIiRK9xQQIu2cgCG4VpG8FZ3DvokSIESQ57bDsIlINsTmWfCiWVaUgH3sIeYA8IhNSbNlxkErunhFH/nu0/OnhcuKRlPVowj7B9jITXQ1kUHiEZPPSY9CGIhWj9T9nxsT63RYRh389AdTe7XbkEJKaftaIH413LLE4UHkJVC65BuAT4phYSsFzk4WLyHukkD4CzawhvviM2gh4+b1zmC2CdB+Vn1z1TPvCaG8qs+g1KYLQ8cDS8ycLSkfuqzxrZAWpRqwFCZ0otYw6RPwlKuxrjq3pEwY1EPFW5MTgL84tP6YHHhf5x54819tlhP+IwtAzbIvuvpzNIlssPE9aSJZaq9BBjrcY8FkLiYlklUQG9BIlbCtwmyPTppXLunR5YBJwAd+uTMzllFLdiSfoIC7xyoZBrUUV3zIkerQLGsvKFQD4/ZGQn917OfowmeaLdBPGPQJZ63y+wBhle8ZgMfyRmI6Mwukl86E8ndRq7N83n/xK4PB/1gVtv+E1Ohd+STjkUncwQwB/q5NOdNGTjH0qCFZg68oxYv9Po0/FFTMJPQWar0ifhmgyfYnn5cC+99amhve6ad734JdMw+g22PZcxVF9bfnwMo8YGq8T9ghFyh1YJHcZfckdbCzvJkBzt4u8Cgl5f2hXfq9ezJRyXsd55pnoE1ZsHL/JP0jvEh9THmdm3ZcTXnvRJCiBPUMBk+LYLBv59IVXotkN+4Cre3+vGLegqWJXUg5jwPgheWiDPj+EWd6PttPZwEMVoym/KQ0zFrAurgCS6rnkszXWJzDPtplLEsdLNgR8fmY6bQf9oFbosajj0mR3I8HPBn5T+rfAdEeNVEviXX2+GXXFXja77RPZDaKVw5zA4AbVx3AUQvPV5EOQ4B0mhAbNHkbrt4bsO2LvFpDLeFE6GuyXHvRez2kWU1yur2xJ8csIQHFPjKxhSiVEw6OXEQK78TX1lCTHs/HgsTTfh9WdfN4gQXAZ+tRZ3vuMB+Rn59appH4fIy7taGDv04hK9B3Wjlap1m+gMpiDhjlwi8buOemRloGxQd4QRVlUzrUhyBUwOCLqQzpxpaUt6NGzLaOjunwErnQLljOy81XttfZXR9GEonz5ZB69C+8loNM/4gcvl+ru5jRFHS8xHx6nYNIpjlk/VB3MFBM/mxx23eWNTZEo71F2ZWwHYVmTKCU2iu4FkgreYTe3M0wKn+MhiWU2HqqP5HUe4jMo6I1vF0ocYUqRPnkfuqGQc98Q8irAqPUzX9IH6/BgB"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":14,"cache_creation_input_tokens":20931,"cache_read_input_tokens":43400,"cache_creation":{"ephemeral_5m_input_tokens":20931,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"type":"assistant","uuid":"230c2f18-fecf-4254-a6a3-3d531cdd00f8","timestamp":"2025-12-16T06:10:45.787Z"}
{"parentUuid":"230c2f18-fecf-4254-a6a3-3d531cdd00f8","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01LMxBveTdfBshECNzY7GtgB","type":"message","role":"assistant","content":[{"type":"text","text":"æˆ‘æ¥å¸®ä½ åˆ›å»ºä¸€ä¸ªå¯ä»¥åŒå‡»è¿è¡Œçš„è„šæœ¬ï¼Œè‡ªåŠ¨ä» .env æ–‡ä»¶è¯»å–é…ç½®ã€‚"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":14,"cache_creation_input_tokens":20931,"cache_read_input_tokens":43400,"cache_creation":{"ephemeral_5m_input_tokens":20931,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"type":"assistant","uuid":"2340cf72-7102-495f-8bf6-559fdb25d939","timestamp":"2025-12-16T06:10:45.797Z"}
{"parentUuid":"2340cf72-7102-495f-8bf6-559fdb25d939","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01LMxBveTdfBshECNzY7GtgB","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014aaewntZHxNTBjRnuWbgi8","name":"Write","input":{"file_path":"D:\\Adb\\Open-AutoGLM\\run.bat","content":"@echo off\nchcp 65001 >nul\necho ========================================\necho    Open-AutoGLM å¯åŠ¨è„šæœ¬\necho ========================================\necho.\n\nREM è®¾ç½®ç¼–ç ä¸º UTF-8\nset PYTHONIOENCODING=utf-8\n\nREM ä» .env æ–‡ä»¶è¯»å–é…ç½®å¹¶è®¾ç½®ç¯å¢ƒå˜é‡\nfor /f \"tokens=1,* delims==\" %%a in ('findstr /r /v \"^#\" .env 2^>nul') do (\n    set \"%%a=%%b\"\n)\n\nREM å°† ADB è·¯å¾„æ·»åŠ åˆ° PATH\nif defined ADB_PATH (\n    set \"PATH=%ADB_PATH%;%PATH%\"\n    echo [âˆš] ADB è·¯å¾„å·²è®¾ç½®: %ADB_PATH%\n) else (\n    echo [!] è­¦å‘Š: æœªæ‰¾åˆ° ADB_PATH é…ç½®\n)\n\nREM æ˜¾ç¤ºé…ç½®ä¿¡æ¯\necho.\necho å½“å‰é…ç½®:\necho   æ¨¡å‹æœåŠ¡: %PHONE_AGENT_BASE_URL%\necho   æ¨¡å‹åç§°: %PHONE_AGENT_MODEL%\necho   æœ€å¤§æ­¥æ•°: %PHONE_AGENT_MAX_STEPS%\necho.\n\nREM æ£€æŸ¥ ADB æ˜¯å¦å¯ç”¨\nadb version >nul 2>&1\nif errorlevel 1 (\n    echo [X] é”™è¯¯: ADB æœªæ‰¾åˆ°æˆ–æœªæ­£ç¡®å®‰è£…\n    echo     è¯·æ£€æŸ¥ ADB_PATH é…ç½®æˆ–å®‰è£… ADB å·¥å…·\n    pause\n    exit /b 1\n)\n\nREM æ£€æŸ¥è®¾å¤‡è¿æ¥\necho [*] æ£€æŸ¥è®¾å¤‡è¿æ¥...\nadb devices\necho.\n\nREM è¿è¡Œä¸»ç¨‹åº\necho [*] å¯åŠ¨ AutoGLM...\necho ========================================\necho.\npython main.py\n\nREM å¦‚æœç¨‹åºé€€å‡ºï¼Œæš‚åœä»¥æŸ¥çœ‹è¾“å‡º\necho.\necho ========================================\npause\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":14,"cache_creation_input_tokens":20931,"cache_read_input_tokens":43400,"cache_creation":{"ephemeral_5m_input_tokens":20931,"ephemeral_1h_input_tokens":0},"output_tokens":1099,"service_tier":"standard"}},"type":"assistant","uuid":"a6af01f3-bdaf-4a92-8c7e-b30e12819eca","timestamp":"2025-12-16T06:10:52.334Z"}
{"type":"file-history-snapshot","messageId":"a6af01f3-bdaf-4a92-8c7e-b30e12819eca","snapshot":{"messageId":"d34a05d0-996b-42ee-957b-6354a3e2364c","trackedFileBackups":{"run.bat":{"backupFileName":null,"version":1,"backupTime":"2025-12-16T06:11:20.144Z"}},"timestamp":"2025-12-16T06:10:12.162Z"},"isSnapshotUpdate":true}
{"parentUuid":"a6af01f3-bdaf-4a92-8c7e-b30e12819eca","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014aaewntZHxNTBjRnuWbgi8","type":"tool_result","content":"File created successfully at: D:\\Adb\\Open-AutoGLM\\run.bat"}]},"uuid":"b37c4ca6-ad1a-4ece-bb0a-1061a2c160ef","timestamp":"2025-12-16T06:11:20.167Z","toolUseResult":{"type":"create","filePath":"D:\\Adb\\Open-AutoGLM\\run.bat","content":"@echo off\nchcp 65001 >nul\necho ========================================\necho    Open-AutoGLM å¯åŠ¨è„šæœ¬\necho ========================================\necho.\n\nREM è®¾ç½®ç¼–ç ä¸º UTF-8\nset PYTHONIOENCODING=utf-8\n\nREM ä» .env æ–‡ä»¶è¯»å–é…ç½®å¹¶è®¾ç½®ç¯å¢ƒå˜é‡\nfor /f \"tokens=1,* delims==\" %%a in ('findstr /r /v \"^#\" .env 2^>nul') do (\n    set \"%%a=%%b\"\n)\n\nREM å°† ADB è·¯å¾„æ·»åŠ åˆ° PATH\nif defined ADB_PATH (\n    set \"PATH=%ADB_PATH%;%PATH%\"\n    echo [âˆš] ADB è·¯å¾„å·²è®¾ç½®: %ADB_PATH%\n) else (\n    echo [!] è­¦å‘Š: æœªæ‰¾åˆ° ADB_PATH é…ç½®\n)\n\nREM æ˜¾ç¤ºé…ç½®ä¿¡æ¯\necho.\necho å½“å‰é…ç½®:\necho   æ¨¡å‹æœåŠ¡: %PHONE_AGENT_BASE_URL%\necho   æ¨¡å‹åç§°: %PHONE_AGENT_MODEL%\necho   æœ€å¤§æ­¥æ•°: %PHONE_AGENT_MAX_STEPS%\necho.\n\nREM æ£€æŸ¥ ADB æ˜¯å¦å¯ç”¨\nadb version >nul 2>&1\nif errorlevel 1 (\n    echo [X] é”™è¯¯: ADB æœªæ‰¾åˆ°æˆ–æœªæ­£ç¡®å®‰è£…\n    echo     è¯·æ£€æŸ¥ ADB_PATH é…ç½®æˆ–å®‰è£… ADB å·¥å…·\n    pause\n    exit /b 1\n)\n\nREM æ£€æŸ¥è®¾å¤‡è¿æ¥\necho [*] æ£€æŸ¥è®¾å¤‡è¿æ¥...\nadb devices\necho.\n\nREM è¿è¡Œä¸»ç¨‹åº\necho [*] å¯åŠ¨ AutoGLM...\necho ========================================\necho.\npython main.py\n\nREM å¦‚æœç¨‹åºé€€å‡ºï¼Œæš‚åœä»¥æŸ¥çœ‹è¾“å‡º\necho.\necho ========================================\npause\n","structuredPatch":[],"originalFile":null}}
{"parentUuid":"b37c4ca6-ad1a-4ece-bb0a-1061a2c160ef","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01Tu9ZStwoL9Ho8Dh9VQZJi4","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"å¥½çš„ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªè¿è¡Œè„šæœ¬ã€‚ç°åœ¨è®©æˆ‘åˆ›å»ºæ›´å¤šæœ‰ç”¨çš„è„šæœ¬ï¼Œæ¯”å¦‚ç®€åŒ–ç‰ˆå’Œè°ƒè¯•ç‰ˆã€‚","signature":"EpsCCkYIChgCKkDOzQzKAzNuXzRSAU4QKIqlrlDJw+RiHlzHoMDGJlBNDZT9klgsg23Ygbjdr08OlHXeNDvdNbGi+FFk+snRa8+0Egy4+g2vigGhd7NnOkkaDOXT3c2oxgTsnsmtUSIwb56e+x7r9fP8D8q07/2BJYsQHkd+uTVU0lyLYUgirc98Tf7EFqRItu41dwOoOzLwKoIB6Rv1dgSdJxjyg9XKca56HcXqmOiir9R84y4Z/7HgIPVtynfKiZw+erEjp9gPfn1FgTDfMnZij2d7cEkSyC/RBKKwR0QKt60PU8WhR2kHhHnGMzl9ImKhOSwT66VoW7ZC7F+ryRWHubsF4QkyQ4cdyBaXv2rzxRMVWcKetle3el+UgRgB"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":12,"cache_creation_input_tokens":1231,"cache_read_input_tokens":64331,"cache_creation":{"ephemeral_5m_input_tokens":1231,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"type":"assistant","uuid":"6d139c8e-daa9-4b54-92eb-b1fc150622cb","timestamp":"2025-12-16T06:11:26.328Z"}
{"parentUuid":"6d139c8e-daa9-4b54-92eb-b1fc150622cb","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01Tu9ZStwoL9Ho8Dh9VQZJi4","type":"message","role":"assistant","content":[{"type":"text","text":"ç°åœ¨è®©æˆ‘å†åˆ›å»ºä¸€ä¸ªç®€åŒ–ç‰ˆå’Œè°ƒè¯•ç‰ˆçš„è„šæœ¬ï¼š"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":12,"cache_creation_input_tokens":1231,"cache_read_input_tokens":64331,"cache_creation":{"ephemeral_5m_input_tokens":1231,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"type":"assistant","uuid":"a62f91d4-2882-454f-b6e1-1a8359bf4af7","timestamp":"2025-12-16T06:11:26.440Z"}
{"parentUuid":"a62f91d4-2882-454f-b6e1-1a8359bf4af7","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01Tu9ZStwoL9Ho8Dh9VQZJi4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01UHrkQDgRAXqHWq3tX1qxDU","name":"Write","input":{"file_path":"D:\\Adb\\Open-AutoGLM\\run-simple.bat","content":"@echo off\nchcp 65001 >nul\n\nREM è®¾ç½®ç¼–ç ä¸º UTF-8\nset PYTHONIOENCODING=utf-8\n\nREM ä» .env æ–‡ä»¶è¯»å–é…ç½®\nfor /f \"tokens=1,* delims==\" %%a in ('findstr /r /v \"^#\" .env 2^>nul') do (\n    set \"%%a=%%b\"\n)\n\nREM æ·»åŠ  ADB åˆ° PATH\nif defined ADB_PATH set \"PATH=%ADB_PATH%;%PATH%\"\n\nREM ç›´æ¥è¿è¡Œï¼Œä¸æ˜¾ç¤ºé¢å¤–ä¿¡æ¯\npython main.py %*\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":12,"cache_creation_input_tokens":1231,"cache_read_input_tokens":64331,"cache_creation":{"ephemeral_5m_input_tokens":1231,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"type":"assistant","uuid":"0aae2e04-57ab-4207-bd2c-822230baf4af","timestamp":"2025-12-16T06:11:28.646Z"}
{"parentUuid":"0aae2e04-57ab-4207-bd2c-822230baf4af","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01Tu9ZStwoL9Ho8Dh9VQZJi4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FUNN7kntvBQQkTWsR7cks3","name":"Write","input":{"file_path":"D:\\Adb\\Open-AutoGLM\\run-debug.bat","content":"@echo off\nchcp 65001 >nul\necho ========================================\necho    Open-AutoGLM è°ƒè¯•æ¨¡å¼\necho ========================================\necho.\n\nREM è®¾ç½®ç¼–ç ä¸º UTF-8\nset PYTHONIOENCODING=utf-8\n\nREM ä» .env æ–‡ä»¶è¯»å–é…ç½®\nfor /f \"tokens=1,* delims==\" %%a in ('findstr /r /v \"^#\" .env 2^>nul') do (\n    set \"%%a=%%b\"\n)\n\nREM æ·»åŠ  ADB åˆ° PATH\nif defined ADB_PATH (\n    set \"PATH=%ADB_PATH%;%PATH%\"\n    echo [è°ƒè¯•] ADB_PATH: %ADB_PATH%\n)\n\nREM æ˜¾ç¤ºæ‰€æœ‰ç¯å¢ƒå˜é‡\necho [è°ƒè¯•] ç¯å¢ƒå˜é‡:\necho   PHONE_AGENT_BASE_URL = %PHONE_AGENT_BASE_URL%\necho   PHONE_AGENT_MODEL = %PHONE_AGENT_MODEL%\necho   PHONE_AGENT_API_KEY = %PHONE_AGENT_API_KEY%\necho   PHONE_AGENT_MAX_STEPS = %PHONE_AGENT_MAX_STEPS%\necho   PHONE_AGENT_DEVICE_ID = %PHONE_AGENT_DEVICE_ID%\necho   PYTHONIOENCODING = %PYTHONIOENCODING%\necho   PATH ä¸­çš„ ADB =\nwhere adb\necho.\n\nREM æ£€æŸ¥ Python ç‰ˆæœ¬\necho [è°ƒè¯•] Python ç‰ˆæœ¬:\npython --version\necho.\n\nREM æ£€æŸ¥ ADB ç‰ˆæœ¬\necho [è°ƒè¯•] ADB ç‰ˆæœ¬:\nadb version\necho.\n\nREM æ£€æŸ¥è®¾å¤‡è¿æ¥\necho [è°ƒè¯•] å·²è¿æ¥è®¾å¤‡:\nadb devices\necho.\n\nREM è¿è¡Œä¸»ç¨‹åº\necho [è°ƒè¯•] å¯åŠ¨ç¨‹åº...\necho ========================================\necho.\npython main.py %*\n\necho.\necho ========================================\necho [è°ƒè¯•] ç¨‹åºå·²é€€å‡º\npause\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":12,"cache_creation_input_tokens":1231,"cache_read_input_tokens":64331,"cache_creation":{"ephemeral_5m_input_tokens":1231,"ephemeral_1h_input_tokens":0},"output_tokens":905,"service_tier":"standard"}},"type":"assistant","uuid":"ff09c8d1-7313-4827-aea7-dfb0c4561bb3","timestamp":"2025-12-16T06:11:34.346Z"}
{"type":"file-history-snapshot","messageId":"0aae2e04-57ab-4207-bd2c-822230baf4af","snapshot":{"messageId":"d34a05d0-996b-42ee-957b-6354a3e2364c","trackedFileBackups":{"run.bat":{"backupFileName":null,"version":1,"backupTime":"2025-12-16T06:11:20.144Z"},"run-simple.bat":{"backupFileName":"70da9f1555ce452b@v1","version":1,"backupTime":"2025-12-16T06:11:35.384Z"}},"timestamp":"2025-12-16T06:10:12.162Z"},"isSnapshotUpdate":true}
{"parentUuid":"ff09c8d1-7313-4827-aea7-dfb0c4561bb3","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01UHrkQDgRAXqHWq3tX1qxDU","type":"tool_result","content":"File created successfully at: D:\\Adb\\Open-AutoGLM\\run-simple.bat"}]},"uuid":"f42e1700-67b5-48d5-a279-7b6b216349a7","timestamp":"2025-12-16T06:11:35.382Z","toolUseResult":{"type":"create","filePath":"D:\\Adb\\Open-AutoGLM\\run-simple.bat","content":"@echo off\nchcp 65001 >nul\n\nREM è®¾ç½®ç¼–ç ä¸º UTF-8\nset PYTHONIOENCODING=utf-8\n\nREM ä» .env æ–‡ä»¶è¯»å–é…ç½®\nfor /f \"tokens=1,* delims==\" %%a in ('findstr /r /v \"^#\" .env 2^>nul') do (\n    set \"%%a=%%b\"\n)\n\nREM æ·»åŠ  ADB åˆ° PATH\nif defined ADB_PATH set \"PATH=%ADB_PATH%;%PATH%\"\n\nREM ç›´æ¥è¿è¡Œï¼Œä¸æ˜¾ç¤ºé¢å¤–ä¿¡æ¯\npython main.py %*\n","structuredPatch":[],"originalFile":null}}
{"type":"file-history-snapshot","messageId":"ff09c8d1-7313-4827-aea7-dfb0c4561bb3","snapshot":{"messageId":"d34a05d0-996b-42ee-957b-6354a3e2364c","trackedFileBackups":{"run.bat":{"backupFileName":null,"version":1,"backupTime":"2025-12-16T06:11:20.144Z"},"run-simple.bat":{"backupFileName":"70da9f1555ce452b@v1","version":1,"backupTime":"2025-12-16T06:11:35.384Z"},"run-debug.bat":{"backupFileName":"59b6ebebd009a602@v1","version":1,"backupTime":"2025-12-16T06:11:35.995Z"}},"timestamp":"2025-12-16T06:10:12.162Z"},"isSnapshotUpdate":true}
{"parentUuid":"f42e1700-67b5-48d5-a279-7b6b216349a7","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FUNN7kntvBQQkTWsR7cks3","type":"tool_result","content":"File created successfully at: D:\\Adb\\Open-AutoGLM\\run-debug.bat"}]},"uuid":"1abfa76f-426c-46dc-adb9-76fd1ea7d40c","timestamp":"2025-12-16T06:11:35.994Z","toolUseResult":{"type":"create","filePath":"D:\\Adb\\Open-AutoGLM\\run-debug.bat","content":"@echo off\nchcp 65001 >nul\necho ========================================\necho    Open-AutoGLM è°ƒè¯•æ¨¡å¼\necho ========================================\necho.\n\nREM è®¾ç½®ç¼–ç ä¸º UTF-8\nset PYTHONIOENCODING=utf-8\n\nREM ä» .env æ–‡ä»¶è¯»å–é…ç½®\nfor /f \"tokens=1,* delims==\" %%a in ('findstr /r /v \"^#\" .env 2^>nul') do (\n    set \"%%a=%%b\"\n)\n\nREM æ·»åŠ  ADB åˆ° PATH\nif defined ADB_PATH (\n    set \"PATH=%ADB_PATH%;%PATH%\"\n    echo [è°ƒè¯•] ADB_PATH: %ADB_PATH%\n)\n\nREM æ˜¾ç¤ºæ‰€æœ‰ç¯å¢ƒå˜é‡\necho [è°ƒè¯•] ç¯å¢ƒå˜é‡:\necho   PHONE_AGENT_BASE_URL = %PHONE_AGENT_BASE_URL%\necho   PHONE_AGENT_MODEL = %PHONE_AGENT_MODEL%\necho   PHONE_AGENT_API_KEY = %PHONE_AGENT_API_KEY%\necho   PHONE_AGENT_MAX_STEPS = %PHONE_AGENT_MAX_STEPS%\necho   PHONE_AGENT_DEVICE_ID = %PHONE_AGENT_DEVICE_ID%\necho   PYTHONIOENCODING = %PYTHONIOENCODING%\necho   PATH ä¸­çš„ ADB =\nwhere adb\necho.\n\nREM æ£€æŸ¥ Python ç‰ˆæœ¬\necho [è°ƒè¯•] Python ç‰ˆæœ¬:\npython --version\necho.\n\nREM æ£€æŸ¥ ADB ç‰ˆæœ¬\necho [è°ƒè¯•] ADB ç‰ˆæœ¬:\nadb version\necho.\n\nREM æ£€æŸ¥è®¾å¤‡è¿æ¥\necho [è°ƒè¯•] å·²è¿æ¥è®¾å¤‡:\nadb devices\necho.\n\nREM è¿è¡Œä¸»ç¨‹åº\necho [è°ƒè¯•] å¯åŠ¨ç¨‹åº...\necho ========================================\necho.\npython main.py %*\n\necho.\necho ========================================\necho [è°ƒè¯•] ç¨‹åºå·²é€€å‡º\npause\n","structuredPatch":[],"originalFile":null}}
{"parentUuid":"1abfa76f-426c-46dc-adb9-76fd1ea7d40c","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01SVr3fwphiXGttFqZXUrGdr","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"å¥½çš„ï¼Œæˆ‘å·²ç»åˆ›å»ºäº†ä¸‰ä¸ªè„šæœ¬ï¼š\n1. run.bat - æ ‡å‡†è¿è¡Œè„šæœ¬ï¼Œå¸¦é…ç½®æ˜¾ç¤º\n2. run-simple.bat - ç®€åŒ–ç‰ˆï¼Œç›´æ¥è¿è¡Œ\n3. run-debug.bat - è°ƒè¯•ç‰ˆï¼Œæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯\n\nç°åœ¨è®©æˆ‘åˆ›å»ºä¸€ä¸ª README æ–‡æ¡£æ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨è¿™äº›è„šæœ¬ã€‚","signature":"Eq8DCkYIChgCKkBsufilSscuze7wT8eT++zPWo61tKp8XZ7n75zPzgeO5eGwVDjQ/bXZnEvXl9PTS381EFnVXPR8G+VWp7joPcIeEgxBom2YoBPDu0cw4Q4aDJ4tBW6v6ENOTZOYZiIwFWcE1m4N4tJO9AwSvvmBorV/lao/OnI1RQRq1pG5MEkEciLuKX+bq8BTBRJoINI2KpYCnHT10ptIN6e1POZGl7fYKEzPzb7bwV0hacmZ5nk7Nln+3cytxM7RGfT0Nsu2MOSOiGSzqm8H2U73cRi1GMAszkDuSZ5axgZAqIjiNw017QhorIpej8nN1nKYtYPvMXUDbtZbSPs3nXFKQheysiOWr8w5mFWLdzEiER0akviGglBI4a5Q4/8PduNtEUFPBNrQYdehJmuIOnnj0n3fOCx7HGFCnWjYiNni0VsAZd89xraTMuZFKLjKTPUzVXgA/Hyn1g32MxOLN52/TTiSna9+0GHY55iNk/KPcmDV+6tJTSyyOp2+au3f6X2dYsn1rYRC04TSfHaFZsYRlos53Pv8nkf4rPfup2ZERC6Zlu9QyZF5SQb7NvkYAQ=="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":13,"cache_creation_input_tokens":1118,"cache_read_input_tokens":65562,"cache_creation":{"ephemeral_5m_input_tokens":1118,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"type":"assistant","uuid":"e02a87c7-f1f1-4ea1-a8c3-00b712b05df5","timestamp":"2025-12-16T06:11:42.874Z"}
{"parentUuid":"e02a87c7-f1f1-4ea1-a8c3-00b712b05df5","isSidechain":false,"userType":"external","cwd":"D:\\Adb\\Open-AutoGLM","sessionId":"5d662e39-eb65-4fa2-b31a-a42e4bf65e6e","version":"2.0.69","gitBranch":"main","slug":"ancient-greeting-neumann","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01SVr3fwphiXGttFqZXUrGdr","type":"message","role":"assistant","content":[{"type":"text","text":"æˆ‘å·²ç»åˆ›å»ºäº†ä¸‰ä¸ªå¯ä»¥åŒå‡»è¿è¡Œçš„è„šæœ¬ï¼Œå®ƒä»¬éƒ½ä¼šè‡ªåŠ¨ä» `.env` æ–‡ä»¶è¯»å–é…ç½®ï¼š\n\n## åˆ›å»ºçš„è„šæœ¬\n\n1. **run.bat** - æ ‡å‡†è¿è¡Œè„šæœ¬\n   - æ˜¾ç¤ºé…ç½®ä¿¡æ¯\n   - æ£€æŸ¥ ADB å’Œè®¾å¤‡è¿æ¥\n   - å¯åŠ¨äº¤äº’æ¨¡å¼\n   - åŒå‡»å³å¯è¿è¡Œ\n\n2. **run-simple.bat** - ç®€åŒ–è¿è¡Œè„šæœ¬\n   - æ— é¢å¤–è¾“å‡ºï¼Œç›´æ¥è¿è¡Œ\n   - å¯ä»¥ä¼ é€’å‘½ä»¤è¡Œå‚æ•°ï¼Œä¾‹å¦‚ï¼š`run-simple.bat \"æ‰“å¼€å¾®ä¿¡\"`\n\n3. **run-debug.bat** - è°ƒè¯•è¿è¡Œè„šæœ¬\n   - æ˜¾ç¤ºæ‰€æœ‰ç¯å¢ƒå˜é‡\n   - æ˜¾ç¤º Pythonã€ADB ç‰ˆæœ¬\n   - æ˜¾ç¤ºè®¾å¤‡è¿æ¥çŠ¶æ€\n   - é€‚åˆæ’æŸ¥é—®é¢˜\n\n## ä½¿ç”¨æ–¹æ³•\n\nç›´æ¥åŒå‡» `run.bat` å³å¯å¯åŠ¨ç¨‹åºï¼Œå®ƒä¼šï¼š\n- âœ… è‡ªåŠ¨ä» `.env` è¯»å–æ‰€æœ‰é…ç½®\n- âœ… è‡ªåŠ¨è®¾ç½® ADB è·¯å¾„åˆ° PATH\n- âœ… è‡ªåŠ¨è®¾ç½® UTF-8 ç¼–ç \n- âœ… å¯åŠ¨äº¤äº’æ¨¡å¼\n\nå¦‚æœéœ€è¦ä¼ é€’ä»»åŠ¡å‚æ•°ï¼Œåœ¨å‘½ä»¤è¡Œè¿è¡Œï¼š\n```bash\nrun-simple.bat \"æ‰“å¼€ç¾å›¢æœç´¢ç«é”…åº—\"\n```\n\næ‰€æœ‰è„šæœ¬éƒ½ä¼šè‡ªåŠ¨è¯»å– `.env` æ–‡ä»¶ä¸­çš„é…ç½®ï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®ç¯å¢ƒå˜é‡ï¼"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":13,"cache_creation_input_tokens":1118,"cache_read_input_tokens":65562,"cache_creation":{"ephemeral_5m_input_tokens":1118,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"type":"assistant","uuid":"21018b83-0719-4424-b522-e42557baabd5","timestamp":"2025-12-16T06:11:49.256Z"}
